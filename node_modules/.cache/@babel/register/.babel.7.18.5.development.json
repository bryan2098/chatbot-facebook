{"{\"assumptions\":{},\"sourceRoot\":\"/Users/nguyentri1998/My Computer/Chatbot/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/nguyentri1998/My Computer/Chatbot\",\"filename\":\"/Users/nguyentri1998/My Computer/Chatbot/src/app.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/nguyentri1998/My Computer/Chatbot\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.5:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\n\nvar _viewEngine = _interopRequireDefault(require(\"./configs/viewEngine\"));\n\nvar _web = _interopRequireDefault(require(\"./routes/web\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar app = (0, _express[\"default\"])();\napp.use(_bodyParser[\"default\"].json());\napp.use(_bodyParser[\"default\"].urlencoded({\n  extended: true\n}));\n(0, _viewEngine[\"default\"])(app);\n(0, _web[\"default\"])(app);\nvar port = process.env.PORT || 8080;\napp.listen(port, function () {\n  console.log(\"App is running at the port : \" + port);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhcHAiLCJleHByZXNzIiwidXNlIiwiYm9keVBhcnNlciIsImpzb24iLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJ2aWV3RW5naW5lIiwid2ViUm91dGVzIiwicG9ydCIsInByb2Nlc3MiLCJlbnYiLCJQT1JUIiwibGlzdGVuIiwiY29uc29sZSIsImxvZyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL25ndXllbnRyaTE5OTgvTXkgQ29tcHV0ZXIvQ2hhdGJvdC9zcmMvIiwic291cmNlcyI6WyJhcHAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgYm9keVBhcnNlciBmcm9tICdib2R5LXBhcnNlcic7XG5pbXBvcnQgdmlld0VuZ2luZSBmcm9tIFwiLi9jb25maWdzL3ZpZXdFbmdpbmVcIjtcbmltcG9ydCB3ZWJSb3V0ZXMgZnJvbSBcIi4vcm91dGVzL3dlYlwiO1xuXG5sZXQgYXBwID0gZXhwcmVzcygpO1xuXG5hcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcbmFwcC51c2UoYm9keVBhcnNlci51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IHRydWUgfSkpO1xuXG52aWV3RW5naW5lKGFwcCk7XG5cbndlYlJvdXRlcyhhcHApO1xuXG5cbmxldCBwb3J0ID0gcHJvY2Vzcy5lbnYuUE9SVCB8fCA4MDgwO1xuXG5hcHAubGlzdGVuKHBvcnQsICgpID0+IHtcbiAgICBjb25zb2xlLmxvZyhcIkFwcCBpcyBydW5uaW5nIGF0IHRoZSBwb3J0IDogXCIgKyBwb3J0KTtcbn0pIl0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsSUFBSUEsR0FBRyxHQUFHLElBQUFDLG1CQUFBLEdBQVY7QUFFQUQsR0FBRyxDQUFDRSxHQUFKLENBQVFDLHNCQUFBLENBQVdDLElBQVgsRUFBUjtBQUNBSixHQUFHLENBQUNFLEdBQUosQ0FBUUMsc0JBQUEsQ0FBV0UsVUFBWCxDQUFzQjtFQUFFQyxRQUFRLEVBQUU7QUFBWixDQUF0QixDQUFSO0FBRUEsSUFBQUMsc0JBQUEsRUFBV1AsR0FBWDtBQUVBLElBQUFRLGVBQUEsRUFBVVIsR0FBVjtBQUdBLElBQUlTLElBQUksR0FBR0MsT0FBTyxDQUFDQyxHQUFSLENBQVlDLElBQVosSUFBb0IsSUFBL0I7QUFFQVosR0FBRyxDQUFDYSxNQUFKLENBQVdKLElBQVgsRUFBaUIsWUFBTTtFQUNuQkssT0FBTyxDQUFDQyxHQUFSLENBQVksa0NBQWtDTixJQUE5QztBQUNILENBRkQifQ==","map":{"version":3,"names":["app","express","use","bodyParser","json","urlencoded","extended","viewEngine","webRoutes","port","process","env","PORT","listen","console","log"],"sourceRoot":"/Users/nguyentri1998/My Computer/Chatbot/src/","sources":["app.js"],"sourcesContent":["import express from 'express';\nimport bodyParser from 'body-parser';\nimport viewEngine from \"./configs/viewEngine\";\nimport webRoutes from \"./routes/web\";\n\nlet app = express();\n\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({ extended: true }));\n\nviewEngine(app);\n\nwebRoutes(app);\n\n\nlet port = process.env.PORT || 8080;\n\napp.listen(port, () => {\n    console.log(\"App is running at the port : \" + port);\n})"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;;;AAEA,IAAIA,GAAG,GAAG,IAAAC,mBAAA,GAAV;AAEAD,GAAG,CAACE,GAAJ,CAAQC,sBAAA,CAAWC,IAAX,EAAR;AACAJ,GAAG,CAACE,GAAJ,CAAQC,sBAAA,CAAWE,UAAX,CAAsB;EAAEC,QAAQ,EAAE;AAAZ,CAAtB,CAAR;AAEA,IAAAC,sBAAA,EAAWP,GAAX;AAEA,IAAAQ,eAAA,EAAUR,GAAV;AAGA,IAAIS,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYC,IAAZ,IAAoB,IAA/B;AAEAZ,GAAG,CAACa,MAAJ,CAAWJ,IAAX,EAAiB,YAAM;EACnBK,OAAO,CAACC,GAAR,CAAY,kCAAkCN,IAA9C;AACH,CAFD"}},"mtime":1656515318573},"{\"assumptions\":{},\"sourceRoot\":\"/Users/nguyentri1998/My Computer/Chatbot/src/configs/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/nguyentri1998/My Computer/Chatbot\",\"filename\":\"/Users/nguyentri1998/My Computer/Chatbot/src/configs/viewEngine.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/nguyentri1998/My Computer/Chatbot\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.5:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar configViewEngine = function configViewEngine(app) {\n  app.use(_express[\"default\"][\"static\"]('./src/public'));\n  app.set(\"view engine\", \"ejs\");\n  app.set(\"views\", \"./src/views\");\n};\n\nmodule.exports = configViewEngine;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25maWdWaWV3RW5naW5lIiwiYXBwIiwidXNlIiwiZXhwcmVzcyIsInNldCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9uZ3V5ZW50cmkxOTk4L015IENvbXB1dGVyL0NoYXRib3Qvc3JjL2NvbmZpZ3MvIiwic291cmNlcyI6WyJ2aWV3RW5naW5lLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCI7XG5cbmxldCBjb25maWdWaWV3RW5naW5lID0gKGFwcCkgPT4ge1xuICAgIGFwcC51c2UoZXhwcmVzcy5zdGF0aWMoJy4vc3JjL3B1YmxpYycpKVxuICAgIGFwcC5zZXQoXCJ2aWV3IGVuZ2luZVwiLCBcImVqc1wiKTtcbiAgICBhcHAuc2V0KFwidmlld3NcIiwgXCIuL3NyYy92aWV3c1wiKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjb25maWdWaWV3RW5naW5lOyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7OztBQUVBLElBQUlBLGdCQUFnQixHQUFHLFNBQW5CQSxnQkFBbUIsQ0FBQ0MsR0FBRCxFQUFTO0VBQzVCQSxHQUFHLENBQUNDLEdBQUosQ0FBUUMsbUJBQUEsV0FBZSxjQUFmLENBQVI7RUFDQUYsR0FBRyxDQUFDRyxHQUFKLENBQVEsYUFBUixFQUF1QixLQUF2QjtFQUNBSCxHQUFHLENBQUNHLEdBQUosQ0FBUSxPQUFSLEVBQWlCLGFBQWpCO0FBQ0gsQ0FKRDs7QUFNQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCTixnQkFBakIifQ==","map":{"version":3,"names":["configViewEngine","app","use","express","set","module","exports"],"sourceRoot":"/Users/nguyentri1998/My Computer/Chatbot/src/configs/","sources":["viewEngine.js"],"sourcesContent":["import express from \"express\";\n\nlet configViewEngine = (app) => {\n    app.use(express.static('./src/public'))\n    app.set(\"view engine\", \"ejs\");\n    app.set(\"views\", \"./src/views\");\n}\n\nmodule.exports = configViewEngine;"],"mappings":";;AAAA;;;;AAEA,IAAIA,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,GAAD,EAAS;EAC5BA,GAAG,CAACC,GAAJ,CAAQC,mBAAA,WAAe,cAAf,CAAR;EACAF,GAAG,CAACG,GAAJ,CAAQ,aAAR,EAAuB,KAAvB;EACAH,GAAG,CAACG,GAAJ,CAAQ,OAAR,EAAiB,aAAjB;AACH,CAJD;;AAMAC,MAAM,CAACC,OAAP,GAAiBN,gBAAjB"}},"mtime":1657265323825},"{\"assumptions\":{},\"sourceRoot\":\"/Users/nguyentri1998/My Computer/Chatbot/src/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/nguyentri1998/My Computer/Chatbot\",\"filename\":\"/Users/nguyentri1998/My Computer/Chatbot/src/routes/web.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/nguyentri1998/My Computer/Chatbot\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.5:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _HomeController = _interopRequireDefault(require(\"../controllers/HomeController\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar router = _express[\"default\"].Router();\n\nvar initWebRoutes = function initWebRoutes(app) {\n  router.get(\"/\", _HomeController[\"default\"].getHomePage);\n  router.post('/setup-profile', _HomeController[\"default\"].setupProfile);\n  router.post('/setup-persistent-menu', _HomeController[\"default\"].setupPersistentMenu);\n  router.post('/webhook', _HomeController[\"default\"].postWebhook);\n  router.get('/webhook', _HomeController[\"default\"].getWebhook);\n  router.get('/order', _HomeController[\"default\"].handleOrder);\n  router.post('/order-ajax', _HomeController[\"default\"].handlePostOrder);\n  return app.use('/', router);\n};\n\nmodule.exports = initWebRoutes;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwiaW5pdFdlYlJvdXRlcyIsImFwcCIsImdldCIsImhvbWVDb250cm9sbGVyIiwiZ2V0SG9tZVBhZ2UiLCJwb3N0Iiwic2V0dXBQcm9maWxlIiwic2V0dXBQZXJzaXN0ZW50TWVudSIsInBvc3RXZWJob29rIiwiZ2V0V2ViaG9vayIsImhhbmRsZU9yZGVyIiwiaGFuZGxlUG9zdE9yZGVyIiwidXNlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL25ndXllbnRyaTE5OTgvTXkgQ29tcHV0ZXIvQ2hhdGJvdC9zcmMvcm91dGVzLyIsInNvdXJjZXMiOlsid2ViLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCI7XG5pbXBvcnQgaG9tZUNvbnRyb2xsZXIgZnJvbSAnLi4vY29udHJvbGxlcnMvSG9tZUNvbnRyb2xsZXInO1xuXG5sZXQgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxubGV0IGluaXRXZWJSb3V0ZXMgPSAoYXBwKSA9PiB7XG4gICAgcm91dGVyLmdldChcIi9cIiwgaG9tZUNvbnRyb2xsZXIuZ2V0SG9tZVBhZ2UpO1xuXG4gICAgcm91dGVyLnBvc3QoJy9zZXR1cC1wcm9maWxlJywgaG9tZUNvbnRyb2xsZXIuc2V0dXBQcm9maWxlKVxuICAgIHJvdXRlci5wb3N0KCcvc2V0dXAtcGVyc2lzdGVudC1tZW51JywgaG9tZUNvbnRyb2xsZXIuc2V0dXBQZXJzaXN0ZW50TWVudSlcbiAgICByb3V0ZXIucG9zdCgnL3dlYmhvb2snLCBob21lQ29udHJvbGxlci5wb3N0V2ViaG9vayk7XG4gICAgcm91dGVyLmdldCgnL3dlYmhvb2snLCBob21lQ29udHJvbGxlci5nZXRXZWJob29rKTtcblxuICAgIHJvdXRlci5nZXQoJy9vcmRlcicsIGhvbWVDb250cm9sbGVyLmhhbmRsZU9yZGVyKTtcbiAgICByb3V0ZXIucG9zdCgnL29yZGVyLWFqYXgnLCBob21lQ29udHJvbGxlci5oYW5kbGVQb3N0T3JkZXIpO1xuXG4gICAgcmV0dXJuIGFwcC51c2UoJy8nLCByb3V0ZXIpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGluaXRXZWJSb3V0ZXM7XG4iXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBQ0E7Ozs7QUFFQSxJQUFJQSxNQUFNLEdBQUdDLG1CQUFBLENBQVFDLE1BQVIsRUFBYjs7QUFFQSxJQUFJQyxhQUFhLEdBQUcsU0FBaEJBLGFBQWdCLENBQUNDLEdBQUQsRUFBUztFQUN6QkosTUFBTSxDQUFDSyxHQUFQLENBQVcsR0FBWCxFQUFnQkMsMEJBQUEsQ0FBZUMsV0FBL0I7RUFFQVAsTUFBTSxDQUFDUSxJQUFQLENBQVksZ0JBQVosRUFBOEJGLDBCQUFBLENBQWVHLFlBQTdDO0VBQ0FULE1BQU0sQ0FBQ1EsSUFBUCxDQUFZLHdCQUFaLEVBQXNDRiwwQkFBQSxDQUFlSSxtQkFBckQ7RUFDQVYsTUFBTSxDQUFDUSxJQUFQLENBQVksVUFBWixFQUF3QkYsMEJBQUEsQ0FBZUssV0FBdkM7RUFDQVgsTUFBTSxDQUFDSyxHQUFQLENBQVcsVUFBWCxFQUF1QkMsMEJBQUEsQ0FBZU0sVUFBdEM7RUFFQVosTUFBTSxDQUFDSyxHQUFQLENBQVcsUUFBWCxFQUFxQkMsMEJBQUEsQ0FBZU8sV0FBcEM7RUFDQWIsTUFBTSxDQUFDUSxJQUFQLENBQVksYUFBWixFQUEyQkYsMEJBQUEsQ0FBZVEsZUFBMUM7RUFFQSxPQUFPVixHQUFHLENBQUNXLEdBQUosQ0FBUSxHQUFSLEVBQWFmLE1BQWIsQ0FBUDtBQUNILENBWkQ7O0FBY0FnQixNQUFNLENBQUNDLE9BQVAsR0FBaUJkLGFBQWpCIn0=","map":{"version":3,"names":["router","express","Router","initWebRoutes","app","get","homeController","getHomePage","post","setupProfile","setupPersistentMenu","postWebhook","getWebhook","handleOrder","handlePostOrder","use","module","exports"],"sourceRoot":"/Users/nguyentri1998/My Computer/Chatbot/src/routes/","sources":["web.js"],"sourcesContent":["import express from \"express\";\nimport homeController from '../controllers/HomeController';\n\nlet router = express.Router();\n\nlet initWebRoutes = (app) => {\n    router.get(\"/\", homeController.getHomePage);\n\n    router.post('/setup-profile', homeController.setupProfile)\n    router.post('/setup-persistent-menu', homeController.setupPersistentMenu)\n    router.post('/webhook', homeController.postWebhook);\n    router.get('/webhook', homeController.getWebhook);\n\n    router.get('/order', homeController.handleOrder);\n    router.post('/order-ajax', homeController.handlePostOrder);\n\n    return app.use('/', router);\n}\n\nmodule.exports = initWebRoutes;\n"],"mappings":";;AAAA;;AACA;;;;AAEA,IAAIA,MAAM,GAAGC,mBAAA,CAAQC,MAAR,EAAb;;AAEA,IAAIC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,GAAD,EAAS;EACzBJ,MAAM,CAACK,GAAP,CAAW,GAAX,EAAgBC,0BAAA,CAAeC,WAA/B;EAEAP,MAAM,CAACQ,IAAP,CAAY,gBAAZ,EAA8BF,0BAAA,CAAeG,YAA7C;EACAT,MAAM,CAACQ,IAAP,CAAY,wBAAZ,EAAsCF,0BAAA,CAAeI,mBAArD;EACAV,MAAM,CAACQ,IAAP,CAAY,UAAZ,EAAwBF,0BAAA,CAAeK,WAAvC;EACAX,MAAM,CAACK,GAAP,CAAW,UAAX,EAAuBC,0BAAA,CAAeM,UAAtC;EAEAZ,MAAM,CAACK,GAAP,CAAW,QAAX,EAAqBC,0BAAA,CAAeO,WAApC;EACAb,MAAM,CAACQ,IAAP,CAAY,aAAZ,EAA2BF,0BAAA,CAAeQ,eAA1C;EAEA,OAAOV,GAAG,CAACW,GAAJ,CAAQ,GAAR,EAAaf,MAAb,CAAP;AACH,CAZD;;AAcAgB,MAAM,CAACC,OAAP,GAAiBd,aAAjB"}},"mtime":1657513081774},"{\"assumptions\":{},\"sourceRoot\":\"/Users/nguyentri1998/My Computer/Chatbot/src/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/nguyentri1998/My Computer/Chatbot\",\"filename\":\"/Users/nguyentri1998/My Computer/Chatbot/src/controllers/HomeController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/nguyentri1998/My Computer/Chatbot\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.5:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nvar _request = _interopRequireDefault(require(\"request\"));\n\nvar _chatbotService = _interopRequireDefault(require(\"../services/chatbotService\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nrequire('dotenv').config();\n\nvar _require = require('google-spreadsheet'),\n    GoogleSpreadsheet = _require.GoogleSpreadsheet;\n\nvar PAGE_ACCESS_TOKEN = process.env.PAGE_ACCESS_TOKEN;\nvar PRIVATE_KEY = \"-----BEGIN PRIVATE KEY-----\\nMIIEugIBADANBgkqhkiG9w0BAQEFAASCBKQwggSgAgEAAoIBAQCgKmVSK9j/eECh\\nPhDGBqX3s1Vg0edVlCYT4VLwO2ErGw7xV+3mxxUoa6q622jRuWEjTBAYIhK4Cm2s\\nLZz+eNxRu3rplGf6TT2O8R8+ey1PNjBnuIXG4OrZbHVm8PmwI7h0xcjJy6vX2l22\\nqvxqN/Kf82qV/9OxjQw7dfYezClPGcP648R5aAuRH9Y/RVyezAQYjysaVCrZVkQn\\nvRBJgMV6ka4D/3xwOKHqLNznSngFGq+kGJ1LXyfBlfOGSfRtNuojCkYISPFqKdwA\\nbKOOO1AhXvtF8rWUKSTJpFz+V60SyZG9/mYgTPnj4gOi0zCGjzF1ZmDaOpa8I3y8\\ngGEZ/KFZAgMBAAECgf9B69vZD92vanFRhdw/YNJ3KXI2Tcgk3+6qDNfaXeuX2tf+\\n0uUxlxRrDpAdFCBMD4DA7MlMnP3TF0SECEIVrf5VpYe1m85jLomFh4V/OnfJgFmO\\nEuR0MnPuTYrzqPbXkO1BAI1F+Ljba6c3so7tSxm8IicJQI8tr3EdsrxNVyDcqMmz\\n3+jdAVHgwyaoDB8tBuGpIBoK/fQNK5365k1eaUPSPStl3gbFevS9qwc5nXvTWBbv\\nvyvEck174N4n2mU9pcyFnGN7NJqqoyitumD9WliacgaaIW95KkUFqcorRg7+GRqO\\nt1icfjn9WPIiKUwRdlX2mONMG/G0OxGL+e/kDN8CgYEA4bMb9jqAJBPQn0UIb1M7\\nP8jA6gwnH6AckNPcZvijfTya3SQM5rOpyNSCdLbhzALfQtddTmOl5oNd7SSOGhPs\\nflq2p4d3olao53s3bxjaKtacjdLix/A79gMQ6d7U0Ct+e5tFpKFwux9pUaouoHCY\\nWDo8bfTnuXxFsKcf2HgwufsCgYEAtar/5l5fuZxe79NJiGjtMhRYL3olmiQcdaeo\\nlJQ2h2oC/ISqsLE0E2y/yBgrV+0bpCk2Jbq7wduKqwbQyQhHpuVgjTDl1YBpU3q2\\nE9vU84KpQDlspfUS+vmZVT3O7HQ8MZ4EOhlzRmwYzSX6am+ic0mUkMC5iTvgx4WY\\n2+KypbsCgYAy4EH8ViGOgFz1mgUVuyhO73z1BTpIeboWt3smRwPrdh7enIK/+l3a\\nZHTnxFXPvBIBqjRhODssZA5nJ2dU34rezKoBx5qjIG/AhljvlSWQpIHzwkbWlQOf\\nJ//HCDDmn/dJ+61OOAoGVEVUYE1UYy0kLjRzANK/UBERigq2rBknwwKBgDJZtpsu\\nxPE4ucdWlCbOjg83PEnMXOef4pNpaHvlqEdXxoQecQCP3JMVrQHUUQ8JlIOnOG60\\nlp1gL8q/FNbjCJjlMiFv0AOgl5Cfjh9q6lajfC1kvQwyJJSS4UCS5Or8PEK0PQ+t\\nRhnak/Un9YPSdP/nANot0D6M7fvet0MaTdFJAoGAWey9UoBGxHEL971dQtOxjMQf\\nV3WU5pGoim3YbjTny7OYMYHCxKOOUtBcTb4wkJNzCybGTUV/PcNhsR5OmjmaI14f\\n+ulrAqOySOPbVhKyqGcGaBgeSfuIrumK9fwHkTlvFB9YdyKaCDNDSZoNBtD7jb4W\\nWxOjGSOpa37PX6Z7FuQ=\\n-----END PRIVATE KEY-----\\n\";\nvar CLIENT_EMAIL = process.env.CLIENT_EMAIL;\nvar SHEET_ID = process.env.SHEET_ID;\n\nvar getHomePage = function getHomePage(req, res) {\n  return res.render('homepage.ejs');\n};\n\nvar postWebhook = function postWebhook(req, res) {\n  var body = req.body; // Checks this is an event from a page subscription\n\n  if (body.object === 'page') {\n    // Iterates over each entry - there may be multiple if batched\n    body.entry.forEach(function (entry) {\n      // Gets the body of the webhook event\n      var webhook_event = entry.messaging[0];\n      console.log(webhook_event); // Get the sender PSID\n\n      var sender_psid = webhook_event.sender.id;\n      console.log('Sender PSID: ' + sender_psid); // Check if the event is a message or postback and\n      // pass the event to the appropriate handler function\n\n      if (webhook_event.message) {\n        _chatbotService[\"default\"].handleMessage(sender_psid, webhook_event.message);\n      } else if (webhook_event.postback) {\n        _chatbotService[\"default\"].handlePostback(sender_psid, webhook_event.postback);\n      }\n    }); // Returns a '200 OK' response to all requests\n\n    res.status(200).send('EVENT_RECEIVED');\n  } else {\n    // Returns a '404 Not Found' if event is not from a page subscription\n    res.sendStatus(404);\n  }\n};\n\nvar getWebhook = function getWebhook(req, res) {\n  // Your verify token. Should be a random string.\n  var VERIFY_TOKEN = process.env.VERIFY_TOKEN; // Parse the query params\n\n  var mode = req.query['hub.mode'];\n  var token = req.query['hub.verify_token'];\n  var challenge = req.query['hub.challenge']; // Checks if a token and mode is in the query string of the request\n\n  if (mode && token) {\n    // Checks the mode and token sent is correct\n    if (mode === 'subscribe' && token === VERIFY_TOKEN) {\n      // Responds with the challenge token from the request\n      console.log('WEBHOOK_VERIFIED');\n      res.status(200).send(challenge);\n    } else {\n      // Responds with '403 Forbidden' if verify tokens do not match\n      res.sendStatus(403);\n    }\n  }\n};\n\nvar setupProfile = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n    var request_body;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            // call profile facebook api\n            // Construct the message body\n            request_body = {\n              \"get_started\": {\n                \"payload\": \"GET_STARTED\"\n              },\n              \"whitelisted_domains\": [\"https://bot-mollie.herokuapp.com/\"]\n            }; // Send the HTTP request to the Messenger Platform\n\n            _context.next = 3;\n            return (0, _request[\"default\"])({\n              \"uri\": \"https://graph.facebook.com/v14.0/me/messenger_profile?access_token=\".concat(PAGE_ACCESS_TOKEN),\n              \"qs\": {\n                \"access_token\": PAGE_ACCESS_TOKEN\n              },\n              \"method\": \"POST\",\n              \"json\": request_body\n            }, function (err, res, body) {\n              console.log(body);\n            });\n\n          case 3:\n            return _context.abrupt(\"return\", res.send(\"Set up user profile success\"));\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function setupProfile(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar setupPersistentMenu = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n    var request_body;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            // call profile facebook api\n            // Construct the message body\n            request_body = {\n              \"persistent_menu\": [{\n                \"locale\": \"default\",\n                \"composer_input_disabled\": false,\n                \"call_to_actions\": [{\n                  \"type\": \"web_url\",\n                  \"title\": \"Shopee Mollie\",\n                  \"url\": \"https://shopee.vn/mollieshop2501\",\n                  \"webview_height_ratio\": \"full\"\n                }, {\n                  \"type\": \"web_url\",\n                  \"title\": \"Fanpage Mollie\",\n                  \"url\": \"https://www.facebook.com/mollietrend/\",\n                  \"webview_height_ratio\": \"full\"\n                }, {\n                  \"type\": \"postback\",\n                  \"title\": \"Khởi động lại bot\",\n                  \"payload\": \"RESTART_BOT\"\n                }]\n              }]\n            }; // Send the HTTP request to the Messenger Platform\n\n            _context2.next = 3;\n            return (0, _request[\"default\"])({\n              \"uri\": \"https://graph.facebook.com/v14.0/me/messenger_profile?access_token=\".concat(PAGE_ACCESS_TOKEN),\n              \"qs\": {\n                \"access_token\": PAGE_ACCESS_TOKEN\n              },\n              \"method\": \"POST\",\n              \"json\": request_body\n            }, function (err, res, body) {\n              console.log(body);\n\n              if (!err) {\n                console.log('Setup perssistent menu success');\n              } else {\n                console.erorr(\"Unable to setup user profile: \" + err);\n              }\n            });\n\n          case 3:\n            return _context2.abrupt(\"return\", res.send(\"Set up persistent menu success\"));\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function setupPersistentMenu(_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar handleOrder = function handleOrder(req, res) {\n  var senderId = req.query.senderId;\n  return res.status(200).render('order.ejs', {\n    senderId: senderId\n  });\n};\n\nvar handlePostOrder = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(req, res) {\n    var customerName, address, phoneNumber, response;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            customerName = \"\";\n\n            if (!(req.body.customerName === '')) {\n              _context3.next = 8;\n              break;\n            }\n\n            _context3.next = 5;\n            return _chatbotService[\"default\"].getUserName(req.body.psid);\n\n          case 5:\n            customerName = _context3.sent;\n            _context3.next = 9;\n            break;\n\n          case 8:\n            customerName = req.body.customerName;\n\n          case 9:\n            address = req.body.address;\n            phoneNumber = req.body.phoneNumber;\n            response = {\n              \"text\": \"- \\u0110\\u1EB6T H\\xC0NG -\\n        \\n H\\u1ECD v\\xE0 t\\xEAn: \".concat(customerName, \"\\n        \\n \\u0110\\u1ECBa ch\\u1EC9: \").concat(address, \"\\n        \\n S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i: \").concat(phoneNumber, \"\\n        \\n Xin c\\u1EA3m \\u01A1n qu\\xFD kh\\xE1c \\u0111\\xE3 \\u0111\\u1EB7t s\\u1EA3n ph\\u1EA9m\\n        \")\n            };\n            _context3.next = 14;\n            return getGoogleSheet(customerName, address, phoneNumber);\n\n          case 14:\n            _context3.next = 16;\n            return _chatbotService[\"default\"].callSendAPI(req.body.psid, response);\n\n          case 16:\n            return _context3.abrupt(\"return\", res.status(200).json({\n              message: 'ok',\n              data: response\n            }));\n\n          case 19:\n            _context3.prev = 19;\n            _context3.t0 = _context3[\"catch\"](0);\n            console.log(_context3.t0);\n            return _context3.abrupt(\"return\", res.status(500).json({\n              message: 'Server error'\n            }));\n\n          case 23:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3, null, [[0, 19]]);\n  }));\n\n  return function handlePostOrder(_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nvar getGoogleSheet = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(name, address, phone) {\n    var doc, sheet;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.prev = 0;\n            // Initialize the sheet - doc ID is the long id in the sheets URL\n            doc = new GoogleSpreadsheet(SHEET_ID); // Initialize Auth - see more available options at https://theoephraim.github.io/node-google-spreadsheet/#/getting-started/authentication\n\n            _context4.next = 4;\n            return doc.useServiceAccountAuth({\n              client_email: CLIENT_EMAIL,\n              private_key: PRIVATE_KEY\n            });\n\n          case 4:\n            _context4.next = 6;\n            return doc.loadInfo();\n\n          case 6:\n            // loads document properties and worksheets\n            sheet = doc.sheetsByIndex[0]; // or use doc.sheetsById[id] or doc.sheetsByTitle[title]\n            // append rows\n\n            _context4.next = 9;\n            return sheet.addRow({\n              \"Tên\": name,\n              \"Địa chỉ\": address,\n              \"Số điện thoại\": phone\n            });\n\n          case 9:\n            return _context4.abrupt(\"return\", res.status(200));\n\n          case 12:\n            _context4.prev = 12;\n            _context4.t0 = _context4[\"catch\"](0);\n            console.log(_context4.t0);\n            return _context4.abrupt(\"return\", res.status(500).send('Oops! Something wrongs, check logs console for detail ... '));\n\n          case 16:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4, null, [[0, 12]]);\n  }));\n\n  return function getGoogleSheet(_x7, _x8, _x9) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\nmodule.exports = {\n  getHomePage: getHomePage,\n  postWebhook: postWebhook,\n  getWebhook: getWebhook,\n  setupProfile: setupProfile,\n  setupPersistentMenu: setupPersistentMenu,\n  handleOrder: handleOrder,\n  handlePostOrder: handlePostOrder\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwiR29vZ2xlU3ByZWFkc2hlZXQiLCJQQUdFX0FDQ0VTU19UT0tFTiIsInByb2Nlc3MiLCJlbnYiLCJQUklWQVRFX0tFWSIsIkNMSUVOVF9FTUFJTCIsIlNIRUVUX0lEIiwiZ2V0SG9tZVBhZ2UiLCJyZXEiLCJyZXMiLCJyZW5kZXIiLCJwb3N0V2ViaG9vayIsImJvZHkiLCJvYmplY3QiLCJlbnRyeSIsImZvckVhY2giLCJ3ZWJob29rX2V2ZW50IiwibWVzc2FnaW5nIiwiY29uc29sZSIsImxvZyIsInNlbmRlcl9wc2lkIiwic2VuZGVyIiwiaWQiLCJtZXNzYWdlIiwiY2hhdGJvdFNlcnZpY2UiLCJoYW5kbGVNZXNzYWdlIiwicG9zdGJhY2siLCJoYW5kbGVQb3N0YmFjayIsInN0YXR1cyIsInNlbmQiLCJzZW5kU3RhdHVzIiwiZ2V0V2ViaG9vayIsIlZFUklGWV9UT0tFTiIsIm1vZGUiLCJxdWVyeSIsInRva2VuIiwiY2hhbGxlbmdlIiwic2V0dXBQcm9maWxlIiwicmVxdWVzdF9ib2R5IiwicmVxdWVzdCIsImVyciIsInNldHVwUGVyc2lzdGVudE1lbnUiLCJlcm9yciIsImhhbmRsZU9yZGVyIiwic2VuZGVySWQiLCJoYW5kbGVQb3N0T3JkZXIiLCJjdXN0b21lck5hbWUiLCJnZXRVc2VyTmFtZSIsInBzaWQiLCJhZGRyZXNzIiwicGhvbmVOdW1iZXIiLCJyZXNwb25zZSIsImdldEdvb2dsZVNoZWV0IiwiY2FsbFNlbmRBUEkiLCJqc29uIiwiZGF0YSIsIm5hbWUiLCJwaG9uZSIsImRvYyIsInVzZVNlcnZpY2VBY2NvdW50QXV0aCIsImNsaWVudF9lbWFpbCIsInByaXZhdGVfa2V5IiwibG9hZEluZm8iLCJzaGVldCIsInNoZWV0c0J5SW5kZXgiLCJhZGRSb3ciLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvbmd1eWVudHJpMTk5OC9NeSBDb21wdXRlci9DaGF0Ym90L3NyYy9jb250cm9sbGVycy8iLCJzb3VyY2VzIjpbIkhvbWVDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoJ2RvdGVudicpLmNvbmZpZygpO1xuaW1wb3J0IHJlcXVlc3QgZnJvbSBcInJlcXVlc3RcIjtcbmltcG9ydCBjaGF0Ym90U2VydmljZSBmcm9tIFwiLi4vc2VydmljZXMvY2hhdGJvdFNlcnZpY2VcIjtcbmNvbnN0IHsgR29vZ2xlU3ByZWFkc2hlZXQgfSA9IHJlcXVpcmUoJ2dvb2dsZS1zcHJlYWRzaGVldCcpO1xuXG5jb25zdCBQQUdFX0FDQ0VTU19UT0tFTiA9IHByb2Nlc3MuZW52LlBBR0VfQUNDRVNTX1RPS0VOO1xuXG5jb25zdCBQUklWQVRFX0tFWSA9IFwiLS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tXFxuTUlJRXVnSUJBREFOQmdrcWhraUc5dzBCQVFFRkFBU0NCS1F3Z2dTZ0FnRUFBb0lCQVFDZ0ttVlNLOWovZUVDaFxcblBoREdCcVgzczFWZzBlZFZsQ1lUNFZMd08yRXJHdzd4ViszbXh4VW9hNnE2MjJqUnVXRWpUQkFZSWhLNENtMnNcXG5MWnorZU54UnUzcnBsR2Y2VFQyTzhSOCtleTFQTmpCbnVJWEc0T3JaYkhWbThQbXdJN2gweGNqSnk2dlgybDIyXFxucXZ4cU4vS2Y4MnFWLzlPeGpRdzdkZlllekNsUEdjUDY0OFI1YUF1Ukg5WS9SVnllekFRWWp5c2FWQ3JaVmtRblxcbnZSQkpnTVY2a2E0RC8zeHdPS0hxTE56blNuZ0ZHcStrR0oxTFh5ZkJsZk9HU2ZSdE51b2pDa1lJU1BGcUtkd0FcXG5iS09PTzFBaFh2dEY4cldVS1NUSnBGeitWNjBTeVpHOS9tWWdUUG5qNGdPaTB6Q0dqekYxWm1EYU9wYThJM3k4XFxuZ0dFWi9LRlpBZ01CQUFFQ2dmOUI2OXZaRDkydmFuRlJoZHcvWU5KM0tYSTJUY2drMys2cUROZmFYZXVYMnRmK1xcbjB1VXhseFJyRHBBZEZDQk1ENERBN01sTW5QM1RGMFNFQ0VJVnJmNVZwWWUxbTg1akxvbUZoNFYvT25mSmdGbU9cXG5FdVIwTW5QdVRZcnpxUGJYa08xQkFJMUYrTGpiYTZjM3NvN3RTeG04SWljSlFJOHRyM0Vkc3J4TlZ5RGNxTW16XFxuMytqZEFWSGd3eWFvREI4dEJ1R3BJQm9LL2ZRTks1MzY1azFlYVVQU1BTdGwzZ2JGZXZTOXF3YzVuWHZUV0JidlxcbnZ5dkVjazE3NE40bjJtVTlwY3lGbkdON05KcXFveWl0dW1EOVdsaWFjZ2FhSVc5NUtrVUZxY29yUmc3K0dScU9cXG50MWljZmpuOVdQSWlLVXdSZGxYMm1PTk1HL0cwT3hHTCtlL2tETjhDZ1lFQTRiTWI5anFBSkJQUW4wVUliMU03XFxuUDhqQTZnd25INkFja05QY1p2aWpmVHlhM1NRTTVyT3B5TlNDZExiaHpBTGZRdGRkVG1PbDVvTmQ3U1NPR2hQc1xcbmZscTJwNGQzb2xhbzUzczNieGphS3RhY2pkTGl4L0E3OWdNUTZkN1UwQ3QrZTV0RnBLRnd1eDlwVWFvdW9IQ1lcXG5XRG84YmZUbnVYeEZzS2NmMkhnd3Vmc0NnWUVBdGFyLzVsNWZ1WnhlNzlOSmlHanRNaFJZTDNvbG1pUWNkYWVvXFxubEpRMmgyb0MvSVNxc0xFMEUyeS95QmdyViswYnBDazJKYnE3d2R1S3F3YlF5UWhIcHVWZ2pURGwxWUJwVTNxMlxcbkU5dlU4NEtwUURsc3BmVVMrdm1aVlQzTzdIUThNWjRFT2hselJtd1l6U1g2YW0raWMwbVVrTUM1aVR2Z3g0V1lcXG4yK0t5cGJzQ2dZQXk0RUg4VmlHT2dGejFtZ1VWdXloTzczejFCVHBJZWJvV3Qzc21Sd1ByZGg3ZW5JSy8rbDNhXFxuWkhUbnhGWFB2QklCcWpSaE9Ec3NaQTVuSjJkVTM0cmV6S29CeDVxaklHL0FobGp2bFNXUXBJSHp3a2JXbFFPZlxcbkovL0hDRERtbi9kSis2MU9PQW9HVkVWVVlFMVVZeTBrTGpSekFOSy9VQkVSaWdxMnJCa253d0tCZ0RKWnRwc3VcXG54UEU0dWNkV2xDYk9qZzgzUEVuTVhPZWY0cE5wYUh2bHFFZFh4b1FlY1FDUDNKTVZyUUhVVVE4SmxJT25PRzYwXFxubHAxZ0w4cS9GTmJqQ0pqbE1pRnYwQU9nbDVDZmpoOXE2bGFqZkMxa3ZRd3lKSlNTNFVDUzVPcjhQRUswUFErdFxcblJobmFrL1VuOVlQU2RQL25BTm90MEQ2TTdmdmV0ME1hVGRGSkFvR0FXZXk5VW9CR3hIRUw5NzFkUXRPeGpNUWZcXG5WM1dVNXBHb2ltM1lialRueTdPWU1ZSEN4S09PVXRCY1RiNHdrSk56Q3liR1RVVi9QY05oc1I1T21qbWFJMTRmXFxuK3VsckFxT3lTT1BiVmhLeXFHY0dhQmdlU2Z1SXJ1bUs5ZndIa1RsdkZCOVlkeUthQ0RORFNab05CdEQ3amI0V1xcbld4T2pHU09wYTM3UFg2WjdGdVE9XFxuLS0tLS1FTkQgUFJJVkFURSBLRVktLS0tLVxcblwiO1xuY29uc3QgQ0xJRU5UX0VNQUlMID0gcHJvY2Vzcy5lbnYuQ0xJRU5UX0VNQUlMO1xuY29uc3QgU0hFRVRfSUQgPSBwcm9jZXNzLmVudi5TSEVFVF9JRDtcblxuXG5sZXQgZ2V0SG9tZVBhZ2UgPSAocmVxLCByZXMpID0+IHtcbiAgICByZXR1cm4gcmVzLnJlbmRlcignaG9tZXBhZ2UuZWpzJyk7XG59O1xuXG5sZXQgcG9zdFdlYmhvb2sgPSAocmVxLCByZXMpID0+IHtcbiAgICBsZXQgYm9keSA9IHJlcS5ib2R5O1xuXG4gICAgLy8gQ2hlY2tzIHRoaXMgaXMgYW4gZXZlbnQgZnJvbSBhIHBhZ2Ugc3Vic2NyaXB0aW9uXG4gICAgaWYgKGJvZHkub2JqZWN0ID09PSAncGFnZScpIHtcblxuICAgICAgICAvLyBJdGVyYXRlcyBvdmVyIGVhY2ggZW50cnkgLSB0aGVyZSBtYXkgYmUgbXVsdGlwbGUgaWYgYmF0Y2hlZFxuICAgICAgICBib2R5LmVudHJ5LmZvckVhY2goZnVuY3Rpb24gKGVudHJ5KSB7XG5cbiAgICAgICAgICAgIC8vIEdldHMgdGhlIGJvZHkgb2YgdGhlIHdlYmhvb2sgZXZlbnRcbiAgICAgICAgICAgIGxldCB3ZWJob29rX2V2ZW50ID0gZW50cnkubWVzc2FnaW5nWzBdO1xuICAgICAgICAgICAgY29uc29sZS5sb2cod2ViaG9va19ldmVudCk7XG5cblxuICAgICAgICAgICAgLy8gR2V0IHRoZSBzZW5kZXIgUFNJRFxuICAgICAgICAgICAgbGV0IHNlbmRlcl9wc2lkID0gd2ViaG9va19ldmVudC5zZW5kZXIuaWQ7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnU2VuZGVyIFBTSUQ6ICcgKyBzZW5kZXJfcHNpZCk7XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBldmVudCBpcyBhIG1lc3NhZ2Ugb3IgcG9zdGJhY2sgYW5kXG4gICAgICAgICAgICAvLyBwYXNzIHRoZSBldmVudCB0byB0aGUgYXBwcm9wcmlhdGUgaGFuZGxlciBmdW5jdGlvblxuICAgICAgICAgICAgaWYgKHdlYmhvb2tfZXZlbnQubWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIGNoYXRib3RTZXJ2aWNlLmhhbmRsZU1lc3NhZ2Uoc2VuZGVyX3BzaWQsIHdlYmhvb2tfZXZlbnQubWVzc2FnZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHdlYmhvb2tfZXZlbnQucG9zdGJhY2spIHtcbiAgICAgICAgICAgICAgICBjaGF0Ym90U2VydmljZS5oYW5kbGVQb3N0YmFjayhzZW5kZXJfcHNpZCwgd2ViaG9va19ldmVudC5wb3N0YmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFJldHVybnMgYSAnMjAwIE9LJyByZXNwb25zZSB0byBhbGwgcmVxdWVzdHNcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmQoJ0VWRU5UX1JFQ0VJVkVEJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gUmV0dXJucyBhICc0MDQgTm90IEZvdW5kJyBpZiBldmVudCBpcyBub3QgZnJvbSBhIHBhZ2Ugc3Vic2NyaXB0aW9uXG4gICAgICAgIHJlcy5zZW5kU3RhdHVzKDQwNCk7XG4gICAgfVxufVxuXG5sZXQgZ2V0V2ViaG9vayA9IChyZXEsIHJlcykgPT4ge1xuICAgIC8vIFlvdXIgdmVyaWZ5IHRva2VuLiBTaG91bGQgYmUgYSByYW5kb20gc3RyaW5nLlxuICAgIGxldCBWRVJJRllfVE9LRU4gPSBwcm9jZXNzLmVudi5WRVJJRllfVE9LRU47XG5cbiAgICAvLyBQYXJzZSB0aGUgcXVlcnkgcGFyYW1zXG4gICAgbGV0IG1vZGUgPSByZXEucXVlcnlbJ2h1Yi5tb2RlJ107XG4gICAgbGV0IHRva2VuID0gcmVxLnF1ZXJ5WydodWIudmVyaWZ5X3Rva2VuJ107XG4gICAgbGV0IGNoYWxsZW5nZSA9IHJlcS5xdWVyeVsnaHViLmNoYWxsZW5nZSddO1xuXG4gICAgLy8gQ2hlY2tzIGlmIGEgdG9rZW4gYW5kIG1vZGUgaXMgaW4gdGhlIHF1ZXJ5IHN0cmluZyBvZiB0aGUgcmVxdWVzdFxuICAgIGlmIChtb2RlICYmIHRva2VuKSB7XG5cbiAgICAgICAgLy8gQ2hlY2tzIHRoZSBtb2RlIGFuZCB0b2tlbiBzZW50IGlzIGNvcnJlY3RcbiAgICAgICAgaWYgKG1vZGUgPT09ICdzdWJzY3JpYmUnICYmIHRva2VuID09PSBWRVJJRllfVE9LRU4pIHtcblxuICAgICAgICAgICAgLy8gUmVzcG9uZHMgd2l0aCB0aGUgY2hhbGxlbmdlIHRva2VuIGZyb20gdGhlIHJlcXVlc3RcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdXRUJIT09LX1ZFUklGSUVEJyk7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZChjaGFsbGVuZ2UpO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBSZXNwb25kcyB3aXRoICc0MDMgRm9yYmlkZGVuJyBpZiB2ZXJpZnkgdG9rZW5zIGRvIG5vdCBtYXRjaFxuICAgICAgICAgICAgcmVzLnNlbmRTdGF0dXMoNDAzKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuXG5sZXQgc2V0dXBQcm9maWxlID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgLy8gY2FsbCBwcm9maWxlIGZhY2Vib29rIGFwaVxuXG4gICAgLy8gQ29uc3RydWN0IHRoZSBtZXNzYWdlIGJvZHlcbiAgICBsZXQgcmVxdWVzdF9ib2R5ID0ge1xuICAgICAgICBcImdldF9zdGFydGVkXCI6IHtcbiAgICAgICAgICAgIFwicGF5bG9hZFwiOiBcIkdFVF9TVEFSVEVEXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJ3aGl0ZWxpc3RlZF9kb21haW5zXCI6IFtcImh0dHBzOi8vYm90LW1vbGxpZS5oZXJva3VhcHAuY29tL1wiXVxuICAgIH1cblxuICAgIC8vIFNlbmQgdGhlIEhUVFAgcmVxdWVzdCB0byB0aGUgTWVzc2VuZ2VyIFBsYXRmb3JtXG4gICAgYXdhaXQgcmVxdWVzdCh7XG4gICAgICAgIFwidXJpXCI6IGBodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS92MTQuMC9tZS9tZXNzZW5nZXJfcHJvZmlsZT9hY2Nlc3NfdG9rZW49JHtQQUdFX0FDQ0VTU19UT0tFTn1gLFxuICAgICAgICBcInFzXCI6IHsgXCJhY2Nlc3NfdG9rZW5cIjogUEFHRV9BQ0NFU1NfVE9LRU4gfSxcbiAgICAgICAgXCJtZXRob2RcIjogXCJQT1NUXCIsXG4gICAgICAgIFwianNvblwiOiByZXF1ZXN0X2JvZHlcbiAgICB9LCAoZXJyLCByZXMsIGJvZHkpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coYm9keSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmVzLnNlbmQoXCJTZXQgdXAgdXNlciBwcm9maWxlIHN1Y2Nlc3NcIik7XG59XG5cblxuXG5sZXQgc2V0dXBQZXJzaXN0ZW50TWVudSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIC8vIGNhbGwgcHJvZmlsZSBmYWNlYm9vayBhcGlcblxuICAgIC8vIENvbnN0cnVjdCB0aGUgbWVzc2FnZSBib2R5XG4gICAgbGV0IHJlcXVlc3RfYm9keSA9IHtcbiAgICAgICAgXCJwZXJzaXN0ZW50X21lbnVcIjogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFwibG9jYWxlXCI6IFwiZGVmYXVsdFwiLFxuICAgICAgICAgICAgICAgIFwiY29tcG9zZXJfaW5wdXRfZGlzYWJsZWRcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgXCJjYWxsX3RvX2FjdGlvbnNcIjogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ3ZWJfdXJsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwiU2hvcGVlIE1vbGxpZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ1cmxcIjogXCJodHRwczovL3Nob3BlZS52bi9tb2xsaWVzaG9wMjUwMVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ3ZWJ2aWV3X2hlaWdodF9yYXRpb1wiOiBcImZ1bGxcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ3ZWJfdXJsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwiRmFucGFnZSBNb2xsaWVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidXJsXCI6IFwiaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL21vbGxpZXRyZW5kL1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ3ZWJ2aWV3X2hlaWdodF9yYXRpb1wiOiBcImZ1bGxcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJwb3N0YmFja1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0aXRsZVwiOiBcIkto4bufaSDEkeG7mW5nIGzhuqFpIGJvdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXlsb2FkXCI6IFwiUkVTVEFSVF9CT1RcIlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfVxuICAgICAgICBdXG4gICAgfTtcblxuICAgIC8vIFNlbmQgdGhlIEhUVFAgcmVxdWVzdCB0byB0aGUgTWVzc2VuZ2VyIFBsYXRmb3JtXG4gICAgYXdhaXQgcmVxdWVzdCh7XG4gICAgICAgIFwidXJpXCI6IGBodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS92MTQuMC9tZS9tZXNzZW5nZXJfcHJvZmlsZT9hY2Nlc3NfdG9rZW49JHtQQUdFX0FDQ0VTU19UT0tFTn1gLFxuICAgICAgICBcInFzXCI6IHsgXCJhY2Nlc3NfdG9rZW5cIjogUEFHRV9BQ0NFU1NfVE9LRU4gfSxcbiAgICAgICAgXCJtZXRob2RcIjogXCJQT1NUXCIsXG4gICAgICAgIFwianNvblwiOiByZXF1ZXN0X2JvZHlcbiAgICB9LCAoZXJyLCByZXMsIGJvZHkpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coYm9keSk7XG5cbiAgICAgICAgaWYgKCFlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTZXR1cCBwZXJzc2lzdGVudCBtZW51IHN1Y2Nlc3MnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJvcnIoXCJVbmFibGUgdG8gc2V0dXAgdXNlciBwcm9maWxlOiBcIiArIGVycik7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiByZXMuc2VuZChcIlNldCB1cCBwZXJzaXN0ZW50IG1lbnUgc3VjY2Vzc1wiKTtcbn1cblxuXG5sZXQgaGFuZGxlT3JkZXIgPSAocmVxLCByZXMpID0+IHtcbiAgICBsZXQgc2VuZGVySWQgPSByZXEucXVlcnkuc2VuZGVySWQ7XG5cbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnJlbmRlcignb3JkZXIuZWpzJywge1xuICAgICAgICBzZW5kZXJJZDogc2VuZGVySWRcbiAgICB9KTtcbn1cblxubGV0IGhhbmRsZVBvc3RPcmRlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGxldCBjdXN0b21lck5hbWUgPSBcIlwiO1xuICAgICAgICBpZiAocmVxLmJvZHkuY3VzdG9tZXJOYW1lID09PSAnJykge1xuICAgICAgICAgICAgY3VzdG9tZXJOYW1lID0gYXdhaXQgY2hhdGJvdFNlcnZpY2UuZ2V0VXNlck5hbWUocmVxLmJvZHkucHNpZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjdXN0b21lck5hbWUgPSByZXEuYm9keS5jdXN0b21lck5hbWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBhZGRyZXNzID0gcmVxLmJvZHkuYWRkcmVzcztcbiAgICAgICAgY29uc3QgcGhvbmVOdW1iZXIgPSByZXEuYm9keS5waG9uZU51bWJlcjtcblxuICAgICAgICBsZXQgcmVzcG9uc2UgPSB7XG4gICAgICAgICAgICBcInRleHRcIjogYC0gxJDhurZUIEjDgE5HIC1cbiAgICAgICAgXFxuIEjhu40gdsOgIHTDqm46ICR7Y3VzdG9tZXJOYW1lfVxuICAgICAgICBcXG4gxJDhu4thIGNo4buJOiAke2FkZHJlc3N9XG4gICAgICAgIFxcbiBT4buRIMSRaeG7h24gdGhv4bqhaTogJHtwaG9uZU51bWJlcn1cbiAgICAgICAgXFxuIFhpbiBj4bqjbSDGoW4gcXXDvSBraMOhYyDEkcOjIMSR4bq3dCBz4bqjbiBwaOG6qW1cbiAgICAgICAgYH07XG5cbiAgICAgICAgYXdhaXQgZ2V0R29vZ2xlU2hlZXQoY3VzdG9tZXJOYW1lLCBhZGRyZXNzLCBwaG9uZU51bWJlcik7XG5cbiAgICAgICAgYXdhaXQgY2hhdGJvdFNlcnZpY2UuY2FsbFNlbmRBUEkocmVxLmJvZHkucHNpZCwgcmVzcG9uc2UpO1xuXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICBtZXNzYWdlOiAnb2snLFxuICAgICAgICAgICAgZGF0YTogcmVzcG9uc2VcbiAgICAgICAgfSlcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdTZXJ2ZXIgZXJyb3InXG4gICAgICAgIH0pXG4gICAgfVxufVxuXG5cblxubGV0IGdldEdvb2dsZVNoZWV0ID0gYXN5bmMgKG5hbWUsIGFkZHJlc3MsIHBob25lKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSB0aGUgc2hlZXQgLSBkb2MgSUQgaXMgdGhlIGxvbmcgaWQgaW4gdGhlIHNoZWV0cyBVUkxcbiAgICAgICAgY29uc3QgZG9jID0gbmV3IEdvb2dsZVNwcmVhZHNoZWV0KFNIRUVUX0lEKTtcblxuICAgICAgICAvLyBJbml0aWFsaXplIEF1dGggLSBzZWUgbW9yZSBhdmFpbGFibGUgb3B0aW9ucyBhdCBodHRwczovL3RoZW9lcGhyYWltLmdpdGh1Yi5pby9ub2RlLWdvb2dsZS1zcHJlYWRzaGVldC8jL2dldHRpbmctc3RhcnRlZC9hdXRoZW50aWNhdGlvblxuICAgICAgICBhd2FpdCBkb2MudXNlU2VydmljZUFjY291bnRBdXRoKHtcbiAgICAgICAgICAgIGNsaWVudF9lbWFpbDogQ0xJRU5UX0VNQUlMLFxuICAgICAgICAgICAgcHJpdmF0ZV9rZXk6IFBSSVZBVEVfS0VZLFxuICAgICAgICB9KTtcblxuICAgICAgICBhd2FpdCBkb2MubG9hZEluZm8oKTsgLy8gbG9hZHMgZG9jdW1lbnQgcHJvcGVydGllcyBhbmQgd29ya3NoZWV0c1xuXG4gICAgICAgIGNvbnN0IHNoZWV0ID0gZG9jLnNoZWV0c0J5SW5kZXhbMF07IC8vIG9yIHVzZSBkb2Muc2hlZXRzQnlJZFtpZF0gb3IgZG9jLnNoZWV0c0J5VGl0bGVbdGl0bGVdXG5cbiAgICAgICAgLy8gYXBwZW5kIHJvd3NcbiAgICAgICAgYXdhaXQgc2hlZXQuYWRkUm93KFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFwiVMOqblwiOiBuYW1lLFxuICAgICAgICAgICAgICAgIFwixJDhu4thIGNo4buJXCI6IGFkZHJlc3MsXG4gICAgICAgICAgICAgICAgXCJT4buRIMSRaeG7h24gdGhv4bqhaVwiOiBwaG9uZSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGUpXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuc2VuZCgnT29wcyEgU29tZXRoaW5nIHdyb25ncywgY2hlY2sgbG9ncyBjb25zb2xlIGZvciBkZXRhaWwgLi4uICcpXG4gICAgfVxufVxuXG5cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgZ2V0SG9tZVBhZ2U6IGdldEhvbWVQYWdlLFxuICAgIHBvc3RXZWJob29rOiBwb3N0V2ViaG9vayxcbiAgICBnZXRXZWJob29rOiBnZXRXZWJob29rLFxuICAgIHNldHVwUHJvZmlsZTogc2V0dXBQcm9maWxlLFxuICAgIHNldHVwUGVyc2lzdGVudE1lbnU6IHNldHVwUGVyc2lzdGVudE1lbnUsXG4gICAgaGFuZGxlT3JkZXI6IGhhbmRsZU9yZGVyLFxuICAgIGhhbmRsZVBvc3RPcmRlcjogaGFuZGxlUG9zdE9yZGVyXG59Il0sIm1hcHBpbmdzIjoiOzs7O0FBQ0E7O0FBQ0E7Ozs7K0NBREEsb0o7Ozs7OztBQURBQSxPQUFPLENBQUMsUUFBRCxDQUFQLENBQWtCQyxNQUFsQjs7QUFHQSxlQUE4QkQsT0FBTyxDQUFDLG9CQUFELENBQXJDO0FBQUEsSUFBUUUsaUJBQVIsWUFBUUEsaUJBQVI7O0FBRUEsSUFBTUMsaUJBQWlCLEdBQUdDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRixpQkFBdEM7QUFFQSxJQUFNRyxXQUFXLEdBQUcsa3NEQUFwQjtBQUNBLElBQU1DLFlBQVksR0FBR0gsT0FBTyxDQUFDQyxHQUFSLENBQVlFLFlBQWpDO0FBQ0EsSUFBTUMsUUFBUSxHQUFHSixPQUFPLENBQUNDLEdBQVIsQ0FBWUcsUUFBN0I7O0FBR0EsSUFBSUMsV0FBVyxHQUFHLFNBQWRBLFdBQWMsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEVBQWM7RUFDNUIsT0FBT0EsR0FBRyxDQUFDQyxNQUFKLENBQVcsY0FBWCxDQUFQO0FBQ0gsQ0FGRDs7QUFJQSxJ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","map":{"version":3,"names":["require","config","GoogleSpreadsheet","PAGE_ACCESS_TOKEN","process","env","PRIVATE_KEY","CLIENT_EMAIL","SHEET_ID","getHomePage","req","res","render","postWebhook","body","object","entry","forEach","webhook_event","messaging","console","log","sender_psid","sender","id","message","chatbotService","handleMessage","postback","handlePostback","status","send","sendStatus","getWebhook","VERIFY_TOKEN","mode","query","token","challenge","setupProfile","request_body","request","err","setupPersistentMenu","erorr","handleOrder","senderId","handlePostOrder","customerName","getUserName","psid","address","phoneNumber","response","getGoogleSheet","callSendAPI","json","data","name","phone","doc","useServiceAccountAuth","client_email","private_key","loadInfo","sheet","sheetsByIndex","addRow","module","exports"],"sourceRoot":"/Users/nguyentri1998/My Computer/Chatbot/src/controllers/","sources":["HomeController.js"],"sourcesContent":["require('dotenv').config();\nimport request from \"request\";\nimport chatbotService from \"../services/chatbotService\";\nconst { GoogleSpreadsheet } = require('google-spreadsheet');\n\nconst PAGE_ACCESS_TOKEN = process.env.PAGE_ACCESS_TOKEN;\n\nconst PRIVATE_KEY = \"-----BEGIN PRIVATE KEY-----\\nMIIEugIBADANBgkqhkiG9w0BAQEFAASCBKQwggSgAgEAAoIBAQCgKmVSK9j/eECh\\nPhDGBqX3s1Vg0edVlCYT4VLwO2ErGw7xV+3mxxUoa6q622jRuWEjTBAYIhK4Cm2s\\nLZz+eNxRu3rplGf6TT2O8R8+ey1PNjBnuIXG4OrZbHVm8PmwI7h0xcjJy6vX2l22\\nqvxqN/Kf82qV/9OxjQw7dfYezClPGcP648R5aAuRH9Y/RVyezAQYjysaVCrZVkQn\\nvRBJgMV6ka4D/3xwOKHqLNznSngFGq+kGJ1LXyfBlfOGSfRtNuojCkYISPFqKdwA\\nbKOOO1AhXvtF8rWUKSTJpFz+V60SyZG9/mYgTPnj4gOi0zCGjzF1ZmDaOpa8I3y8\\ngGEZ/KFZAgMBAAECgf9B69vZD92vanFRhdw/YNJ3KXI2Tcgk3+6qDNfaXeuX2tf+\\n0uUxlxRrDpAdFCBMD4DA7MlMnP3TF0SECEIVrf5VpYe1m85jLomFh4V/OnfJgFmO\\nEuR0MnPuTYrzqPbXkO1BAI1F+Ljba6c3so7tSxm8IicJQI8tr3EdsrxNVyDcqMmz\\n3+jdAVHgwyaoDB8tBuGpIBoK/fQNK5365k1eaUPSPStl3gbFevS9qwc5nXvTWBbv\\nvyvEck174N4n2mU9pcyFnGN7NJqqoyitumD9WliacgaaIW95KkUFqcorRg7+GRqO\\nt1icfjn9WPIiKUwRdlX2mONMG/G0OxGL+e/kDN8CgYEA4bMb9jqAJBPQn0UIb1M7\\nP8jA6gwnH6AckNPcZvijfTya3SQM5rOpyNSCdLbhzALfQtddTmOl5oNd7SSOGhPs\\nflq2p4d3olao53s3bxjaKtacjdLix/A79gMQ6d7U0Ct+e5tFpKFwux9pUaouoHCY\\nWDo8bfTnuXxFsKcf2HgwufsCgYEAtar/5l5fuZxe79NJiGjtMhRYL3olmiQcdaeo\\nlJQ2h2oC/ISqsLE0E2y/yBgrV+0bpCk2Jbq7wduKqwbQyQhHpuVgjTDl1YBpU3q2\\nE9vU84KpQDlspfUS+vmZVT3O7HQ8MZ4EOhlzRmwYzSX6am+ic0mUkMC5iTvgx4WY\\n2+KypbsCgYAy4EH8ViGOgFz1mgUVuyhO73z1BTpIeboWt3smRwPrdh7enIK/+l3a\\nZHTnxFXPvBIBqjRhODssZA5nJ2dU34rezKoBx5qjIG/AhljvlSWQpIHzwkbWlQOf\\nJ//HCDDmn/dJ+61OOAoGVEVUYE1UYy0kLjRzANK/UBERigq2rBknwwKBgDJZtpsu\\nxPE4ucdWlCbOjg83PEnMXOef4pNpaHvlqEdXxoQecQCP3JMVrQHUUQ8JlIOnOG60\\nlp1gL8q/FNbjCJjlMiFv0AOgl5Cfjh9q6lajfC1kvQwyJJSS4UCS5Or8PEK0PQ+t\\nRhnak/Un9YPSdP/nANot0D6M7fvet0MaTdFJAoGAWey9UoBGxHEL971dQtOxjMQf\\nV3WU5pGoim3YbjTny7OYMYHCxKOOUtBcTb4wkJNzCybGTUV/PcNhsR5OmjmaI14f\\n+ulrAqOySOPbVhKyqGcGaBgeSfuIrumK9fwHkTlvFB9YdyKaCDNDSZoNBtD7jb4W\\nWxOjGSOpa37PX6Z7FuQ=\\n-----END PRIVATE KEY-----\\n\";\nconst CLIENT_EMAIL = process.env.CLIENT_EMAIL;\nconst SHEET_ID = process.env.SHEET_ID;\n\n\nlet getHomePage = (req, res) => {\n    return res.render('homepage.ejs');\n};\n\nlet postWebhook = (req, res) => {\n    let body = req.body;\n\n    // Checks this is an event from a page subscription\n    if (body.object === 'page') {\n\n        // Iterates over each entry - there may be multiple if batched\n        body.entry.forEach(function (entry) {\n\n            // Gets the body of the webhook event\n            let webhook_event = entry.messaging[0];\n            console.log(webhook_event);\n\n\n            // Get the sender PSID\n            let sender_psid = webhook_event.sender.id;\n            console.log('Sender PSID: ' + sender_psid);\n\n            // Check if the event is a message or postback and\n            // pass the event to the appropriate handler function\n            if (webhook_event.message) {\n                chatbotService.handleMessage(sender_psid, webhook_event.message);\n            } else if (webhook_event.postback) {\n                chatbotService.handlePostback(sender_psid, webhook_event.postback);\n            }\n        });\n\n        // Returns a '200 OK' response to all requests\n        res.status(200).send('EVENT_RECEIVED');\n    } else {\n        // Returns a '404 Not Found' if event is not from a page subscription\n        res.sendStatus(404);\n    }\n}\n\nlet getWebhook = (req, res) => {\n    // Your verify token. Should be a random string.\n    let VERIFY_TOKEN = process.env.VERIFY_TOKEN;\n\n    // Parse the query params\n    let mode = req.query['hub.mode'];\n    let token = req.query['hub.verify_token'];\n    let challenge = req.query['hub.challenge'];\n\n    // Checks if a token and mode is in the query string of the request\n    if (mode && token) {\n\n        // Checks the mode and token sent is correct\n        if (mode === 'subscribe' && token === VERIFY_TOKEN) {\n\n            // Responds with the challenge token from the request\n            console.log('WEBHOOK_VERIFIED');\n            res.status(200).send(challenge);\n\n        } else {\n            // Responds with '403 Forbidden' if verify tokens do not match\n            res.sendStatus(403);\n        }\n    }\n}\n\n\nlet setupProfile = async (req, res) => {\n    // call profile facebook api\n\n    // Construct the message body\n    let request_body = {\n        \"get_started\": {\n            \"payload\": \"GET_STARTED\"\n        },\n        \"whitelisted_domains\": [\"https://bot-mollie.herokuapp.com/\"]\n    }\n\n    // Send the HTTP request to the Messenger Platform\n    await request({\n        \"uri\": `https://graph.facebook.com/v14.0/me/messenger_profile?access_token=${PAGE_ACCESS_TOKEN}`,\n        \"qs\": { \"access_token\": PAGE_ACCESS_TOKEN },\n        \"method\": \"POST\",\n        \"json\": request_body\n    }, (err, res, body) => {\n        console.log(body);\n    });\n\n    return res.send(\"Set up user profile success\");\n}\n\n\n\nlet setupPersistentMenu = async (req, res) => {\n    // call profile facebook api\n\n    // Construct the message body\n    let request_body = {\n        \"persistent_menu\": [\n            {\n                \"locale\": \"default\",\n                \"composer_input_disabled\": false,\n                \"call_to_actions\": [\n                    {\n                        \"type\": \"web_url\",\n                        \"title\": \"Shopee Mollie\",\n                        \"url\": \"https://shopee.vn/mollieshop2501\",\n                        \"webview_height_ratio\": \"full\"\n                    },\n                    {\n                        \"type\": \"web_url\",\n                        \"title\": \"Fanpage Mollie\",\n                        \"url\": \"https://www.facebook.com/mollietrend/\",\n                        \"webview_height_ratio\": \"full\"\n                    },\n                    {\n                        \"type\": \"postback\",\n                        \"title\": \"Khởi động lại bot\",\n                        \"payload\": \"RESTART_BOT\"\n                    }\n                ]\n            }\n        ]\n    };\n\n    // Send the HTTP request to the Messenger Platform\n    await request({\n        \"uri\": `https://graph.facebook.com/v14.0/me/messenger_profile?access_token=${PAGE_ACCESS_TOKEN}`,\n        \"qs\": { \"access_token\": PAGE_ACCESS_TOKEN },\n        \"method\": \"POST\",\n        \"json\": request_body\n    }, (err, res, body) => {\n        console.log(body);\n\n        if (!err) {\n            console.log('Setup perssistent menu success');\n        } else {\n            console.erorr(\"Unable to setup user profile: \" + err);\n        }\n    });\n\n    return res.send(\"Set up persistent menu success\");\n}\n\n\nlet handleOrder = (req, res) => {\n    let senderId = req.query.senderId;\n\n    return res.status(200).render('order.ejs', {\n        senderId: senderId\n    });\n}\n\nlet handlePostOrder = async (req, res) => {\n    try {\n        let customerName = \"\";\n        if (req.body.customerName === '') {\n            customerName = await chatbotService.getUserName(req.body.psid);\n        } else {\n            customerName = req.body.customerName;\n        }\n\n        const address = req.body.address;\n        const phoneNumber = req.body.phoneNumber;\n\n        let response = {\n            \"text\": `- ĐẶT HÀNG -\n        \\n Họ và tên: ${customerName}\n        \\n Địa chỉ: ${address}\n        \\n Số điện thoại: ${phoneNumber}\n        \\n Xin cảm ơn quý khác đã đặt sản phẩm\n        `};\n\n        await getGoogleSheet(customerName, address, phoneNumber);\n\n        await chatbotService.callSendAPI(req.body.psid, response);\n\n        return res.status(200).json({\n            message: 'ok',\n            data: response\n        })\n\n    } catch (error) {\n        console.log(error);\n        return res.status(500).json({\n            message: 'Server error'\n        })\n    }\n}\n\n\n\nlet getGoogleSheet = async (name, address, phone) => {\n    try {\n        // Initialize the sheet - doc ID is the long id in the sheets URL\n        const doc = new GoogleSpreadsheet(SHEET_ID);\n\n        // Initialize Auth - see more available options at https://theoephraim.github.io/node-google-spreadsheet/#/getting-started/authentication\n        await doc.useServiceAccountAuth({\n            client_email: CLIENT_EMAIL,\n            private_key: PRIVATE_KEY,\n        });\n\n        await doc.loadInfo(); // loads document properties and worksheets\n\n        const sheet = doc.sheetsByIndex[0]; // or use doc.sheetsById[id] or doc.sheetsByTitle[title]\n\n        // append rows\n        await sheet.addRow(\n            {\n                \"Tên\": name,\n                \"Địa chỉ\": address,\n                \"Số điện thoại\": phone,\n            });\n\n        return res.status(200);\n    }\n    catch (e) {\n        console.log(e)\n        return res.status(500).send('Oops! Something wrongs, check logs console for detail ... ')\n    }\n}\n\n\n\nmodule.exports = {\n    getHomePage: getHomePage,\n    postWebhook: postWebhook,\n    getWebhook: getWebhook,\n    setupProfile: setupProfile,\n    setupPersistentMenu: setupPersistentMenu,\n    handleOrder: handleOrder,\n    handlePostOrder: handlePostOrder\n}"],"mappings":"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"}},"mtime":1657513303626},"{\"assumptions\":{},\"sourceRoot\":\"/Users/nguyentri1998/My Computer/Chatbot/src/services/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/nguyentri1998/My Computer/Chatbot\",\"filename\":\"/Users/nguyentri1998/My Computer/Chatbot/src/services/chatbotService.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/nguyentri1998/My Computer/Chatbot\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.5:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nvar _request = _interopRequireDefault(require(\"request\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nrequire('dotenv').config();\n\nvar PAGE_ACCESS_TOKEN = process.env.PAGE_ACCESS_TOKEN;\nvar IMAGES = ['https://res.cloudinary.com/dvweth7yl/image/upload/v1656778684/product/z3533592465888_34e9848417e25ad68aea56a81c56d115.jpg'];\n\nvar callSendAPI = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(sender_psid, response) {\n    var request_body;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            // Construct the message body\n            request_body = {\n              \"recipient\": {\n                \"id\": sender_psid\n              },\n              \"message\": response\n            };\n            _context.next = 3;\n            return sendMarkReadMessage(sender_psid);\n\n          case 3:\n            _context.next = 5;\n            return sendTypingOn(sender_psid);\n\n          case 5:\n            // Send the HTTP request to the Messenger Platform\n            (0, _request[\"default\"])({\n              \"uri\": \"https://graph.facebook.com/v14.0/me/messages\",\n              \"qs\": {\n                \"access_token\": PAGE_ACCESS_TOKEN\n              },\n              \"method\": \"POST\",\n              \"json\": request_body\n            }, function (err, res, body) {\n              if (!err) {\n                console.log('message sent!');\n              } else {\n                console.error(\"Unable to send message:\" + err);\n              }\n            });\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function callSendAPI(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar sendTypingOn = function sendTypingOn(sender_psid) {\n  // Construct the message body\n  var request_body = {\n    \"recipient\": {\n      \"id\": sender_psid\n    },\n    \"sender_action\": \"typing_on\"\n  }; // Send the HTTP request to the Messenger Platform\n\n  (0, _request[\"default\"])({\n    \"uri\": \"https://graph.facebook.com/v14.0/me/messages\",\n    \"qs\": {\n      \"access_token\": PAGE_ACCESS_TOKEN\n    },\n    \"method\": \"POST\",\n    \"json\": request_body\n  }, function (err, res, body) {\n    if (!err) {\n      console.log('sendTypingOn sent!');\n    } else {\n      console.error(\"Unable to send message:\" + err);\n    }\n  });\n};\n\nvar sendMarkReadMessage = function sendMarkReadMessage(sender_psid) {\n  // Construct the message body\n  var request_body = {\n    \"recipient\": {\n      \"id\": sender_psid\n    },\n    \"sender_action\": \"mark_seen\"\n  }; // Send the HTTP request to the Messenger Platform\n\n  (0, _request[\"default\"])({\n    \"uri\": \"https://graph.facebook.com/v14.0/me/messages\",\n    \"qs\": {\n      \"access_token\": PAGE_ACCESS_TOKEN\n    },\n    \"method\": \"POST\",\n    \"json\": request_body\n  }, function (err, res, body) {\n    if (!err) {\n      console.log('sendTypingOn sent!');\n    } else {\n      console.error(\"Unable to send message:\" + err);\n    }\n  });\n};\n\nvar getUserName = function getUserName(sender_psid) {\n  return new Promise(function (resolve, reject) {\n    (0, _request[\"default\"])({\n      \"uri\": \"https://graph.facebook.com/\".concat(sender_psid, \"?fields=first_name,last_name,profile_pic&access_token=\").concat(PAGE_ACCESS_TOKEN),\n      \"qs\": {\n        \"access_token\": PAGE_ACCESS_TOKEN\n      },\n      \"method\": \"GET\"\n    }, function (err, res, body) {\n      if (!err) {\n        var response = JSON.parse(body);\n        var username = \"\".concat(response.last_name, \" \").concat(response.first_name);\n        resolve(username);\n      } else {\n        console.error(\"Unable to send message:\" + err);\n      }\n    });\n  });\n};\n\nvar handleGetStarted = function handleGetStarted(sender_psid) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(resolve, reject) {\n      var username, responseText, responseGenericMessage;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return getUserName(sender_psid);\n\n            case 3:\n              username = _context2.sent;\n              // send text message\n              responseText = {\n                'text': \"Xin ch\\xE0o m\\u1EEBng \".concat(username, \" \\u0111\\u1EBFn v\\u1EDBi Mollie Shop\")\n              };\n              _context2.next = 7;\n              return callSendAPI(sender_psid, responseText);\n\n            case 7:\n              // send generic message\n              responseGenericMessage = getStartedTemplate();\n              _context2.next = 10;\n              return callSendAPI(sender_psid, responseGenericMessage);\n\n            case 10:\n              resolve('done');\n              _context2.next = 16;\n              break;\n\n            case 13:\n              _context2.prev = 13;\n              _context2.t0 = _context2[\"catch\"](0);\n              reject(_context2.t0);\n\n            case 16:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 13]]);\n    }));\n\n    return function (_x3, _x4) {\n      return _ref2.apply(this, arguments);\n    };\n  }());\n};\n\nvar getStartedTemplate = function getStartedTemplate() {\n  var response = {\n    \"attachment\": {\n      \"type\": \"template\",\n      \"payload\": {\n        \"template_type\": \"generic\",\n        \"elements\": [{\n          \"title\": \"Xin chào bạn đến với Mollie Shop\",\n          \"subtitle\": \"Dưới đây là các sản phẩm nổi bật của Shop\",\n          \"image_url\": IMAGES[0],\n          \"buttons\": [{\n            \"type\": \"postback\",\n            \"title\": \"DANH SÁCH SẢN PHẨM NỔI BẬT\",\n            \"payload\": \"LIST_PRODUCT\"\n          }, {\n            \"type\": \"postback\",\n            \"title\": \"SHOPEE\",\n            \"payload\": \"LINK_SHOPEE\"\n          }]\n        }]\n      }\n    }\n  };\n  return response;\n};\n\nvar getListProductTemplate = function getListProductTemplate(sender_psid) {\n  var response = {\n    \"attachment\": {\n      \"type\": \"template\",\n      \"payload\": {\n        \"template_type\": \"generic\",\n        \"elements\": [{\n          \"title\": \"Danh sách sản phẩm nổi bật của Mollie\",\n          \"subtitle\": \"Dưới đây là các sản phẩm nổi bật của Shop\",\n          \"image_url\": IMAGES[0],\n          \"buttons\": [{\n            \"type\": \"postback\",\n            \"title\": \"Set\",\n            \"payload\": \"SET_LIST\"\n          }, {\n            \"type\": \"postback\",\n            \"title\": \"ĐẦM\",\n            \"payload\": \"DRESS_LIST\"\n          }, {\n            \"type\": \"postback\",\n            \"title\": \"VÁY\",\n            \"payload\": \"SKIRT_LIST\"\n          }]\n        }, {\n          \"title\": \"Giờ mở cửa\",\n          \"subtitle\": \"Tất cả các ngày trong tuần\",\n          \"image_url\": IMAGES[0],\n          \"buttons\": [{\n            \"type\": \"web_url\",\n            \"url\": \"\".concat(process.env.URL_WEB_VIEW_ORDER, \"?senderId=\").concat(sender_psid),\n            \"title\": \"Mua sản phẩm\",\n            \"webview_height_ratio\": \"tall\",\n            \"messenger_extensions\": true\n          }]\n        }, {\n          \"title\": \"Kích cỡ chung của shop\",\n          \"subtitle\": \"Kích cỡ của shop phù hợp với đa số phụ nữ Việt Nam < 58kg\",\n          \"image_url\": IMAGES[0],\n          \"buttons\": [{\n            \"type\": \"postback\",\n            \"title\": \"CÁC SẢN PHẨM BÁN CHẠY\",\n            \"payload\": \"BEST_SELLER\"\n          }]\n        }]\n      }\n    }\n  };\n  return response;\n};\n\nvar handleSendListProduct = function handleSendListProduct(sender_psid) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(resolve, reject) {\n      var response;\n      return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              // send generic message\n              response = getListProductTemplate(sender_psid);\n              _context3.next = 4;\n              return callSendAPI(sender_psid, response);\n\n            case 4:\n              resolve('done');\n              _context3.next = 10;\n              break;\n\n            case 7:\n              _context3.prev = 7;\n              _context3.t0 = _context3[\"catch\"](0);\n              reject(_context3.t0);\n\n            case 10:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[0, 7]]);\n    }));\n\n    return function (_x5, _x6) {\n      return _ref3.apply(this, arguments);\n    };\n  }());\n}; // Handles messaging_postbacks events\n\n\nfunction handlePostback(_x7, _x8) {\n  return _handlePostback.apply(this, arguments);\n} // Handles messages events\n\n\nfunction _handlePostback() {\n  _handlePostback = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee10(sender_psid, received_postback) {\n    var response, payload;\n    return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n      while (1) {\n        switch (_context10.prev = _context10.next) {\n          case 0:\n            payload = received_postback.payload;\n            _context10.t0 = payload;\n            _context10.next = _context10.t0 === 'yes' ? 4 : _context10.t0 === 'no' ? 6 : _context10.t0 === 'RESTART_BOT' ? 8 : _context10.t0 === 'GET_STARTED' ? 8 : _context10.t0 === 'LIST_PRODUCT' ? 11 : _context10.t0 === 'SET_LIST' ? 14 : _context10.t0 === 'DRESS_LIST' ? 17 : _context10.t0 === 'SKIRT_LIST' ? 20 : _context10.t0 === 'PRODUCT_DETAIL' ? 23 : _context10.t0 === 'SHOW_IMAGE' ? 26 : _context10.t0 === 'BACK_TO_LIST' ? 29 : 32;\n            break;\n\n          case 4:\n            response = {\n              'text': 'Thanks!'\n            };\n            return _context10.abrupt(\"break\", 34);\n\n          case 6:\n            response = {\n              'text': 'Oops, try sending another image.'\n            };\n            return _context10.abrupt(\"break\", 34);\n\n          case 8:\n            _context10.next = 10;\n            return handleGetStarted(sender_psid);\n\n          case 10:\n            return _context10.abrupt(\"break\", 34);\n\n          case 11:\n            _context10.next = 13;\n            return handleSendListProduct(sender_psid);\n\n          case 13:\n            return _context10.abrupt(\"break\", 34);\n\n          case 14:\n            _context10.next = 16;\n            return handleSendSetList(sender_psid);\n\n          case 16:\n            return _context10.abrupt(\"break\", 34);\n\n          case 17:\n            _context10.next = 19;\n            return handleSendDressList(sender_psid);\n\n          case 19:\n            return _context10.abrupt(\"break\", 34);\n\n          case 20:\n            _context10.next = 22;\n            return handleSendSkirtList(sender_psid);\n\n          case 22:\n            return _context10.abrupt(\"break\", 34);\n\n          case 23:\n            _context10.next = 25;\n            return handleDetailProduct(sender_psid);\n\n          case 25:\n            return _context10.abrupt(\"break\", 34);\n\n          case 26:\n            _context10.next = 28;\n            return handleShowImage(sender_psid);\n\n          case 28:\n            return _context10.abrupt(\"break\", 34);\n\n          case 29:\n            _context10.next = 31;\n            return handleBackToList(sender_psid);\n\n          case 31:\n            return _context10.abrupt(\"break\", 34);\n\n          case 32:\n            response = {\n              'text': \"oop! I don't know response with postback \".concat(payload)\n            };\n            return _context10.abrupt(\"break\", 34);\n\n          case 34:\n          case \"end\":\n            return _context10.stop();\n        }\n      }\n    }, _callee10);\n  }));\n  return _handlePostback.apply(this, arguments);\n}\n\nfunction handleMessage(sender_psid, received_message) {\n  var response; // Check if the message contains text\n\n  if (received_message.text) {\n    // Create the payload for a basic text message\n    response = {\n      \"text\": \"Ch\\xE0o m\\u1EEBng b\\u1EA1n \\u0111\\u1EBFn v\\u1EDBi Mollie Shop. B\\u1EA1n \\u0111\\u1EE3i m\\xECnh m\\u1ED9t ch\\xFAt nh\\xE9. M\\xECnh s\\u1EBD tr\\u1EA3 l\\u1EDDi ngay <3\"\n    };\n  } // Sends the response message\n\n\n  callSendAPI(sender_psid, response);\n}\n\nvar getSetListTemplate = function getSetListTemplate(sender_psid) {\n  var response = {\n    \"attachment\": {\n      \"type\": \"template\",\n      \"payload\": {\n        \"template_type\": \"generic\",\n        \"elements\": [{\n          \"title\": \"Set Áo Trễ Vai Váy Dài Chữ A\",\n          \"subtitle\": \"Set Áo Trễ Vai Váy Dài Chữ A là một trong những sản phẩm nổi bật của Shop\",\n          \"image_url\": IMAGES[0],\n          \"buttons\": [{\n            \"type\": \"postback\",\n            \"title\": \"Chi Tiết\",\n            \"payload\": \"PRODUCT_DETAIL\"\n          }, {\n            \"type\": \"weburl\",\n            \"url\": \"\".concat(process.env.URL_WEB_VIEW_ORDER, \"?senderId=\").concat(sender_psid),\n            \"title\": \"Mua sản phẩm\",\n            \"webview_height_ratio\": \"tall\",\n            \"messenger_extensions\": true\n          }]\n        }, {\n          \"title\": \"Set Áo Trễ Vai Váy Dài Chữ A\",\n          \"subtitle\": \"Set Áo Trễ Vai Váy Dài Chữ A là một trong những sản phẩm nổi bật của Shop\",\n          \"image_url\": IMAGES[0],\n          \"buttons\": [{\n            \"type\": \"postback\",\n            \"title\": \"Chi Tiết\",\n            \"payload\": \"PRODUCT_DETAIL\"\n          }, {\n            \"type\": \"weburl\",\n            \"url\": \"\".concat(process.env.URL_WEB_VIEW_ORDER, \"?senderId=\").concat(sender_psid),\n            \"title\": \"Mua sản phẩm\",\n            \"webview_height_ratio\": \"tall\",\n            \"messenger_extensions\": true\n          }]\n        }, {\n          \"title\": \"Set Áo Trễ Vai Váy Dài Chữ A\",\n          \"subtitle\": \"Set Áo Trễ Vai Váy Dài Chữ A là một trong những sản phẩm nổi bật của Shop\",\n          \"image_url\": IMAGES[0],\n          \"buttons\": [{\n            \"type\": \"postback\",\n            \"title\": \"Chi Tiết\",\n            \"payload\": \"PRODUCT_DETAIL\"\n          }, {\n            \"type\": \"weburl\",\n            \"url\": \"\".concat(process.env.URL_WEB_VIEW_ORDER, \"?senderId=\").concat(sender_psid),\n            \"title\": \"Mua sản phẩm\",\n            \"webview_height_ratio\": \"tall\",\n            \"messenger_extensions\": true\n          }]\n        }, {\n          \"title\": \"Quay trở lại\",\n          \"subtitle\": \"Quay trở lại danh sách sản phẩm\",\n          \"image_url\": IMAGES[0],\n          \"buttons\": [{\n            \"type\": \"postback\",\n            \"title\": \"Quay trở lại\",\n            \"payload\": \"BACK_TO_LIST\"\n          }]\n        }]\n      }\n    }\n  };\n  return response;\n};\n\nvar handleSendSetList = function handleSendSetList(sender_psid) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(resolve, reject) {\n      var response;\n      return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.prev = 0;\n              // send generic message\n              response = getSetListTemplate(sender_psid);\n              _context4.next = 4;\n              return callSendAPI(sender_psid, response);\n\n            case 4:\n              resolve('done');\n              _context4.next = 10;\n              break;\n\n            case 7:\n              _context4.prev = 7;\n              _context4.t0 = _context4[\"catch\"](0);\n              reject(_context4.t0);\n\n            case 10:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[0, 7]]);\n    }));\n\n    return function (_x9, _x10) {\n      return _ref4.apply(this, arguments);\n    };\n  }());\n};\n\nvar handleSendDressList = function handleSendDressList(sender_psid) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(resolve, reject) {\n      var response;\n      return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.prev = 0;\n              // send generic message\n              response = getSetListTemplate(sender_psid);\n              _context5.next = 4;\n              return callSendAPI(sender_psid, response);\n\n            case 4:\n              resolve('done');\n              _context5.next = 10;\n              break;\n\n            case 7:\n              _context5.prev = 7;\n              _context5.t0 = _context5[\"catch\"](0);\n              reject(_context5.t0);\n\n            case 10:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5, null, [[0, 7]]);\n    }));\n\n    return function (_x11, _x12) {\n      return _ref5.apply(this, arguments);\n    };\n  }());\n};\n\nvar handleSendSkirtList = function handleSendSkirtList(sender_psid) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(resolve, reject) {\n      var response;\n      return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              _context6.prev = 0;\n              // send generic message\n              response = getSetListTemplate(sender_psid);\n              _context6.next = 4;\n              return callSendAPI(sender_psid, response);\n\n            case 4:\n              resolve('done');\n              _context6.next = 10;\n              break;\n\n            case 7:\n              _context6.prev = 7;\n              _context6.t0 = _context6[\"catch\"](0);\n              reject(_context6.t0);\n\n            case 10:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6, null, [[0, 7]]);\n    }));\n\n    return function (_x13, _x14) {\n      return _ref6.apply(this, arguments);\n    };\n  }());\n};\n\nvar handleBackToList = /*#__PURE__*/function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(sender_psid) {\n    return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            _context7.next = 2;\n            return handleSendListProduct(sender_psid);\n\n          case 2:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, _callee7);\n  }));\n\n  return function handleBackToList(_x15) {\n    return _ref7.apply(this, arguments);\n  };\n}();\n\nvar getProductDetailTemplate = function getProductDetailTemplate() {\n  var response = {\n    \"attachment\": {\n      \"type\": \"template\",\n      \"payload\": {\n        \"template_type\": \"generic\",\n        \"elements\": [{\n          \"title\": \"Set Áo Trễ Vai Váy Dài Chữ A\",\n          \"subtitle\": \"296.000đ\",\n          \"image_url\": IMAGES[0]\n        }, {\n          \"title\": \"Set Áo Trễ Vai Váy Dài Chữ A\",\n          \"subtitle\": \"296.000đ\",\n          \"image_url\": IMAGES[0]\n        }, {\n          \"title\": \"Set Áo Trễ Vai Váy Dài Chữ A\",\n          \"subtitle\": \"296.000đ\",\n          \"image_url\": IMAGES[0],\n          \"buttons\": [{\n            \"type\": \"postback\",\n            \"title\": \"Hiển thị ảnh\",\n            \"payload\": \"SHOW_IMAGE\"\n          }]\n        }, {\n          \"title\": \"Quay trở lại\",\n          \"subtitle\": \"Quay trở lại danh sách sản phẩm\",\n          \"image_url\": IMAGES[0],\n          \"buttons\": [{\n            \"type\": \"postback\",\n            \"title\": \"Quay trở lại\",\n            \"payload\": \"BACK_TO_LIST\"\n          }]\n        }]\n      }\n    }\n  };\n  return response;\n};\n\nvar handleDetailProduct = function handleDetailProduct(sender_psid) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8(resolve, reject) {\n      var response;\n      return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              _context8.prev = 0;\n              // send generic message\n              response = getProductDetailTemplate();\n              _context8.next = 4;\n              return callSendAPI(sender_psid, response);\n\n            case 4:\n              resolve('done');\n              _context8.next = 10;\n              break;\n\n            case 7:\n              _context8.prev = 7;\n              _context8.t0 = _context8[\"catch\"](0);\n              reject(_context8.t0);\n\n            case 10:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, _callee8, null, [[0, 7]]);\n    }));\n\n    return function (_x16, _x17) {\n      return _ref8.apply(this, arguments);\n    };\n  }());\n};\n\nvar getImageTemplate = function getImageTemplate() {\n  var response = {\n    \"attachment\": {\n      \"type\": \"image\",\n      \"payload\": {\n        \"url\": IMAGES[0],\n        \"is_reusable\": true\n      }\n    }\n  };\n  return response;\n};\n\nvar getButtonTemplate = function getButtonTemplate(sender_psid) {\n  var response = {\n    \"attachment\": {\n      \"type\": \"template\",\n      \"payload\": {\n        \"template_type\": \"button\",\n        \"text\": \"Size shop < 58kg nha bạn iu\",\n        \"buttons\": [{\n          \"type\": \"postback\",\n          \"title\": \"DANH SÁCH SẢN PHẨM NỔI BẬT\",\n          \"payload\": \"LIST_PRODUCT\"\n        }, {\n          \"type\": \"weburl\",\n          \"url\": \"\".concat(process.env.URL_WEB_VIEW_ORDER, \"?senderId=\").concat(sender_psid),\n          \"title\": \"Mua sản phẩm\",\n          \"webview_height_ratio\": \"tall\",\n          \"messenger_extensions\": true\n        }]\n      }\n    }\n  };\n  return response;\n};\n\nvar handleShowImage = function handleShowImage(sender_psid) {\n  return new Promise( /*#__PURE__*/function () {\n    var _ref9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9(resolve, reject) {\n      var responseImage, responseBtn;\n      return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n        while (1) {\n          switch (_context9.prev = _context9.next) {\n            case 0:\n              _context9.prev = 0;\n              // send an image \n              responseImage = getImageTemplate(); // send a button templates\n\n              responseBtn = getButtonTemplate(sender_psid); // send generic message\n\n              _context9.next = 5;\n              return callSendAPI(sender_psid, responseImage);\n\n            case 5:\n              _context9.next = 7;\n              return callSendAPI(sender_psid, responseBtn);\n\n            case 7:\n              resolve('done');\n              _context9.next = 13;\n              break;\n\n            case 10:\n              _context9.prev = 10;\n              _context9.t0 = _context9[\"catch\"](0);\n              reject(_context9.t0);\n\n            case 13:\n            case \"end\":\n              return _context9.stop();\n          }\n        }\n      }, _callee9, null, [[0, 10]]);\n    }));\n\n    return function (_x18, _x19) {\n      return _ref9.apply(this, arguments);\n    };\n  }());\n};\n\nmodule.exports = {\n  handleGetStarted: handleGetStarted,\n  handleSendListProduct: handleSendListProduct,\n  handlePostback: handlePostback,\n  handleMessage: handleMessage,\n  handleSendSetList: handleSendSetList,\n  handleSendDressList: handleSendDressList,\n  handleSendSkirtList: handleSendSkirtList,\n  callSendAPI: callSendAPI,\n  getUserName: getUserName\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwiUEFHRV9BQ0NFU1NfVE9LRU4iLCJwcm9jZXNzIiwiZW52IiwiSU1BR0VTIiwiY2FsbFNlbmRBUEkiLCJzZW5kZXJfcHNpZCIsInJlc3BvbnNlIiwicmVxdWVzdF9ib2R5Iiwic2VuZE1hcmtSZWFkTWVzc2FnZSIsInNlbmRUeXBpbmdPbiIsInJlcXVlc3QiLCJlcnIiLCJyZXMiLCJib2R5IiwiY29uc29sZSIsImxvZyIsImVycm9yIiwiZ2V0VXNlck5hbWUiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIkpTT04iLCJwYXJzZSIsInVzZXJuYW1lIiwibGFzdF9uYW1lIiwiZmlyc3RfbmFtZSIsImhhbmRsZUdldFN0YXJ0ZWQiLCJyZXNwb25zZVRleHQiLCJyZXNwb25zZUdlbmVyaWNNZXNzYWdlIiwiZ2V0U3RhcnRlZFRlbXBsYXRlIiwiZ2V0TGlzdFByb2R1Y3RUZW1wbGF0ZSIsIlVSTF9XRUJfVklFV19PUkRFUiIsImhhbmRsZVNlbmRMaXN0UHJvZHVjdCIsImhhbmRsZVBvc3RiYWNrIiwicmVjZWl2ZWRfcG9zdGJhY2siLCJwYXlsb2FkIiwiaGFuZGxlU2VuZFNldExpc3QiLCJoYW5kbGVTZW5kRHJlc3NMaXN0IiwiaGFuZGxlU2VuZFNraXJ0TGlzdCIsImhhbmRsZURldGFpbFByb2R1Y3QiLCJoYW5kbGVTaG93SW1hZ2UiLCJoYW5kbGVCYWNrVG9MaXN0IiwiaGFuZGxlTWVzc2FnZSIsInJlY2VpdmVkX21lc3NhZ2UiLCJ0ZXh0IiwiZ2V0U2V0TGlzdFRlbXBsYXRlIiwiZ2V0UHJvZHVjdERldGFpbFRlbXBsYXRlIiwiZ2V0SW1hZ2VUZW1wbGF0ZSIsImdldEJ1dHRvblRlbXBsYXRlIiwicmVzcG9uc2VJbWFnZSIsInJlc3BvbnNlQnRuIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL25ndXllbnRyaTE5OTgvTXkgQ29tcHV0ZXIvQ2hhdGJvdC9zcmMvc2VydmljZXMvIiwic291cmNlcyI6WyJjaGF0Ym90U2VydmljZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKCdkb3RlbnYnKS5jb25maWcoKTtcbmltcG9ydCByZXF1ZXN0IGZyb20gXCJyZXF1ZXN0XCI7XG5cbmNvbnN0IFBBR0VfQUNDRVNTX1RPS0VOID0gcHJvY2Vzcy5lbnYuUEFHRV9BQ0NFU1NfVE9LRU47XG5cbmNvbnN0IElNQUdFUyA9IFtcbiAgICAnaHR0cHM6Ly9yZXMuY2xvdWRpbmFyeS5jb20vZHZ3ZXRoN3lsL2ltYWdlL3VwbG9hZC92MTY1Njc3ODY4NC9wcm9kdWN0L3ozNTMzNTkyNDY1ODg4XzM0ZTk4NDg0MTdlMjVhZDY4YWVhNTZhODFjNTZkMTE1LmpwZycsXG5dXG5cblxubGV0IGNhbGxTZW5kQVBJID0gYXN5bmMgKHNlbmRlcl9wc2lkLCByZXNwb25zZSkgPT4ge1xuICAgIC8vIENvbnN0cnVjdCB0aGUgbWVzc2FnZSBib2R5XG4gICAgbGV0IHJlcXVlc3RfYm9keSA9IHtcbiAgICAgICAgXCJyZWNpcGllbnRcIjoge1xuICAgICAgICAgICAgXCJpZFwiOiBzZW5kZXJfcHNpZFxuICAgICAgICB9LFxuICAgICAgICBcIm1lc3NhZ2VcIjogcmVzcG9uc2VcbiAgICB9XG5cbiAgICBhd2FpdCBzZW5kTWFya1JlYWRNZXNzYWdlKHNlbmRlcl9wc2lkKTtcbiAgICBhd2FpdCBzZW5kVHlwaW5nT24oc2VuZGVyX3BzaWQpO1xuXG4gICAgLy8gU2VuZCB0aGUgSFRUUCByZXF1ZXN0IHRvIHRoZSBNZXNzZW5nZXIgUGxhdGZvcm1cbiAgICByZXF1ZXN0KHtcbiAgICAgICAgXCJ1cmlcIjogXCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS92MTQuMC9tZS9tZXNzYWdlc1wiLFxuICAgICAgICBcInFzXCI6IHsgXCJhY2Nlc3NfdG9rZW5cIjogUEFHRV9BQ0NFU1NfVE9LRU4gfSxcbiAgICAgICAgXCJtZXRob2RcIjogXCJQT1NUXCIsXG4gICAgICAgIFwianNvblwiOiByZXF1ZXN0X2JvZHlcbiAgICB9LCAoZXJyLCByZXMsIGJvZHkpID0+IHtcbiAgICAgICAgaWYgKCFlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdtZXNzYWdlIHNlbnQhJylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmFibGUgdG8gc2VuZCBtZXNzYWdlOlwiICsgZXJyKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5sZXQgc2VuZFR5cGluZ09uID0gKHNlbmRlcl9wc2lkKSA9PiB7XG4gICAgLy8gQ29uc3RydWN0IHRoZSBtZXNzYWdlIGJvZHlcbiAgICBsZXQgcmVxdWVzdF9ib2R5ID0ge1xuICAgICAgICBcInJlY2lwaWVudFwiOiB7XG4gICAgICAgICAgICBcImlkXCI6IHNlbmRlcl9wc2lkXG4gICAgICAgIH0sXG4gICAgICAgIFwic2VuZGVyX2FjdGlvblwiOiBcInR5cGluZ19vblwiXG4gICAgfVxuXG4gICAgLy8gU2VuZCB0aGUgSFRUUCByZXF1ZXN0IHRvIHRoZSBNZXNzZW5nZXIgUGxhdGZvcm1cbiAgICByZXF1ZXN0KHtcbiAgICAgICAgXCJ1cmlcIjogXCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS92MTQuMC9tZS9tZXNzYWdlc1wiLFxuICAgICAgICBcInFzXCI6IHsgXCJhY2Nlc3NfdG9rZW5cIjogUEFHRV9BQ0NFU1NfVE9LRU4gfSxcbiAgICAgICAgXCJtZXRob2RcIjogXCJQT1NUXCIsXG4gICAgICAgIFwianNvblwiOiByZXF1ZXN0X2JvZHlcbiAgICB9LCAoZXJyLCByZXMsIGJvZHkpID0+IHtcbiAgICAgICAgaWYgKCFlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzZW5kVHlwaW5nT24gc2VudCEnKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlVuYWJsZSB0byBzZW5kIG1lc3NhZ2U6XCIgKyBlcnIpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmxldCBzZW5kTWFya1JlYWRNZXNzYWdlID0gKHNlbmRlcl9wc2lkKSA9PiB7XG4gICAgLy8gQ29uc3RydWN0IHRoZSBtZXNzYWdlIGJvZHlcbiAgICBsZXQgcmVxdWVzdF9ib2R5ID0ge1xuICAgICAgICBcInJlY2lwaWVudFwiOiB7XG4gICAgICAgICAgICBcImlkXCI6IHNlbmRlcl9wc2lkXG4gICAgICAgIH0sXG4gICAgICAgIFwic2VuZGVyX2FjdGlvblwiOiBcIm1hcmtfc2VlblwiXG4gICAgfVxuXG4gICAgLy8gU2VuZCB0aGUgSFRUUCByZXF1ZXN0IHRvIHRoZSBNZXNzZW5nZXIgUGxhdGZvcm1cbiAgICByZXF1ZXN0KHtcbiAgICAgICAgXCJ1cmlcIjogXCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS92MTQuMC9tZS9tZXNzYWdlc1wiLFxuICAgICAgICBcInFzXCI6IHsgXCJhY2Nlc3NfdG9rZW5cIjogUEFHRV9BQ0NFU1NfVE9LRU4gfSxcbiAgICAgICAgXCJtZXRob2RcIjogXCJQT1NUXCIsXG4gICAgICAgIFwianNvblwiOiByZXF1ZXN0X2JvZHlcbiAgICB9LCAoZXJyLCByZXMsIGJvZHkpID0+IHtcbiAgICAgICAgaWYgKCFlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzZW5kVHlwaW5nT24gc2VudCEnKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlVuYWJsZSB0byBzZW5kIG1lc3NhZ2U6XCIgKyBlcnIpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cblxubGV0IGdldFVzZXJOYW1lID0gKHNlbmRlcl9wc2lkKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgcmVxdWVzdCh7XG4gICAgICAgICAgICBcInVyaVwiOiBgaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJHtzZW5kZXJfcHNpZH0/ZmllbGRzPWZpcnN0X25hbWUsbGFzdF9uYW1lLHByb2ZpbGVfcGljJmFjY2Vzc190b2tlbj0ke1BBR0VfQUNDRVNTX1RPS0VOfWAsXG4gICAgICAgICAgICBcInFzXCI6IHsgXCJhY2Nlc3NfdG9rZW5cIjogUEFHRV9BQ0NFU1NfVE9LRU4gfSxcbiAgICAgICAgICAgIFwibWV0aG9kXCI6IFwiR0VUXCIsXG4gICAgICAgIH0sIChlcnIsIHJlcywgYm9keSkgPT4ge1xuICAgICAgICAgICAgaWYgKCFlcnIpIHtcbiAgICAgICAgICAgICAgICBsZXQgcmVzcG9uc2UgPSBKU09OLnBhcnNlKGJvZHkpO1xuICAgICAgICAgICAgICAgIGxldCB1c2VybmFtZSA9IGAke3Jlc3BvbnNlLmxhc3RfbmFtZX0gJHtyZXNwb25zZS5maXJzdF9uYW1lfWA7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh1c2VybmFtZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmFibGUgdG8gc2VuZCBtZXNzYWdlOlwiICsgZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSlcbn1cblxuXG5sZXQgaGFuZGxlR2V0U3RhcnRlZCA9IChzZW5kZXJfcHNpZCkgPT4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgdXNlcm5hbWUgPSBhd2FpdCBnZXRVc2VyTmFtZShzZW5kZXJfcHNpZCk7XG5cbiAgICAgICAgICAgIC8vIHNlbmQgdGV4dCBtZXNzYWdlXG4gICAgICAgICAgICBsZXQgcmVzcG9uc2VUZXh0ID0geyAndGV4dCc6IGBYaW4gY2jDoG8gbeG7q25nICR7dXNlcm5hbWV9IMSR4bq/biB24bubaSBNb2xsaWUgU2hvcGAgfTtcbiAgICAgICAgICAgIGF3YWl0IGNhbGxTZW5kQVBJKHNlbmRlcl9wc2lkLCByZXNwb25zZVRleHQpO1xuXG5cbiAgICAgICAgICAgIC8vIHNlbmQgZ2VuZXJpYyBtZXNzYWdlXG4gICAgICAgICAgICBsZXQgcmVzcG9uc2VHZW5lcmljTWVzc2FnZSA9IGdldFN0YXJ0ZWRUZW1wbGF0ZSgpO1xuICAgICAgICAgICAgYXdhaXQgY2FsbFNlbmRBUEkoc2VuZGVyX3BzaWQsIHJlc3BvbnNlR2VuZXJpY01lc3NhZ2UpO1xuXG5cbiAgICAgICAgICAgIHJlc29sdmUoJ2RvbmUnKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlamVjdChlcnJvcilcbiAgICAgICAgfVxuICAgIH0pXG59XG5cblxubGV0IGdldFN0YXJ0ZWRUZW1wbGF0ZSA9ICgpID0+IHtcbiAgICBsZXQgcmVzcG9uc2UgPSB7XG4gICAgICAgIFwiYXR0YWNobWVudFwiOiB7XG4gICAgICAgICAgICBcInR5cGVcIjogXCJ0ZW1wbGF0ZVwiLFxuICAgICAgICAgICAgXCJwYXlsb2FkXCI6IHtcbiAgICAgICAgICAgICAgICBcInRlbXBsYXRlX3R5cGVcIjogXCJnZW5lcmljXCIsXG4gICAgICAgICAgICAgICAgXCJlbGVtZW50c1wiOiBbe1xuICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwiWGluIGNow6BvIGLhuqFuIMSR4bq/biB24bubaSBNb2xsaWUgU2hvcFwiLFxuICAgICAgICAgICAgICAgICAgICBcInN1YnRpdGxlXCI6IFwiRMaw4bubaSDEkcOieSBsw6AgY8OhYyBz4bqjbiBwaOG6qW0gbuG7lWkgYuG6rXQgY+G7p2EgU2hvcFwiLFxuICAgICAgICAgICAgICAgICAgICBcImltYWdlX3VybFwiOiBJTUFHRVNbMF0sXG4gICAgICAgICAgICAgICAgICAgIFwiYnV0dG9uc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwicG9zdGJhY2tcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwiREFOSCBTw4FDSCBT4bqiTiBQSOG6qE0gTuG7lEkgQuG6rFRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInBheWxvYWRcIjogXCJMSVNUX1BST0RVQ1RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwicG9zdGJhY2tcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwiU0hPUEVFXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXlsb2FkXCI6IFwiTElOS19TSE9QRUVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufVxuXG5cbmxldCBnZXRMaXN0UHJvZHVjdFRlbXBsYXRlID0gKHNlbmRlcl9wc2lkKSA9PiB7XG4gICAgbGV0IHJlc3BvbnNlID0ge1xuICAgICAgICBcImF0dGFjaG1lbnRcIjoge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidGVtcGxhdGVcIixcbiAgICAgICAgICAgIFwicGF5bG9hZFwiOiB7XG4gICAgICAgICAgICAgICAgXCJ0ZW1wbGF0ZV90eXBlXCI6IFwiZ2VuZXJpY1wiLFxuICAgICAgICAgICAgICAgIFwiZWxlbWVudHNcIjogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwiRGFuaCBzw6FjaCBz4bqjbiBwaOG6qW0gbuG7lWkgYuG6rXQgY+G7p2EgTW9sbGllXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInN1YnRpdGxlXCI6IFwiRMaw4bubaSDEkcOieSBsw6AgY8OhYyBz4bqjbiBwaOG6qW0gbuG7lWkgYuG6rXQgY+G7p2EgU2hvcFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJpbWFnZV91cmxcIjogSU1BR0VTWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJidXR0b25zXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInBvc3RiYWNrXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidGl0bGVcIjogXCJTZXRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXlsb2FkXCI6IFwiU0VUX0xJU1RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwicG9zdGJhY2tcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0aXRsZVwiOiBcIsSQ4bqmTVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInBheWxvYWRcIjogXCJEUkVTU19MSVNUXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInBvc3RiYWNrXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidGl0bGVcIjogXCJWw4FZXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicGF5bG9hZFwiOiBcIlNLSVJUX0xJU1RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwiR2nhu50gbeG7nyBj4butYVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzdWJ0aXRsZVwiOiBcIlThuqV0IGPhuqMgY8OhYyBuZ8OgeSB0cm9uZyB0deG6p25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaW1hZ2VfdXJsXCI6IElNQUdFU1swXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYnV0dG9uc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ3ZWJfdXJsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidXJsXCI6IGAke3Byb2Nlc3MuZW52LlVSTF9XRUJfVklFV19PUkRFUn0/c2VuZGVySWQ9JHtzZW5kZXJfcHNpZH1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwiTXVhIHPhuqNuIHBo4bqpbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIndlYnZpZXdfaGVpZ2h0X3JhdGlvXCI6IFwidGFsbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm1lc3Nlbmdlcl9leHRlbnNpb25zXCI6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0aXRsZVwiOiBcIkvDrWNoIGPhu6EgY2h1bmcgY+G7p2Egc2hvcFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzdWJ0aXRsZVwiOiBcIkvDrWNoIGPhu6EgY+G7p2Egc2hvcCBwaMO5IGjhu6NwIHbhu5tpIMSRYSBz4buRIHBo4bulIG7hu68gVmnhu4d0IE5hbSA8IDU4a2dcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaW1hZ2VfdXJsXCI6IElNQUdFU1swXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYnV0dG9uc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJwb3N0YmFja1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwiQ8OBQyBT4bqiTiBQSOG6qE0gQsOBTiBDSOG6oFlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXlsb2FkXCI6IFwiQkVTVF9TRUxMRVJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXNwb25zZTtcbn1cblxuXG5sZXQgaGFuZGxlU2VuZExpc3RQcm9kdWN0ID0gKHNlbmRlcl9wc2lkKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgdHJ5IHtcblxuICAgICAgICAgICAgLy8gc2VuZCBnZW5lcmljIG1lc3NhZ2VcbiAgICAgICAgICAgIGxldCByZXNwb25zZSA9IGdldExpc3RQcm9kdWN0VGVtcGxhdGUoc2VuZGVyX3BzaWQpO1xuICAgICAgICAgICAgYXdhaXQgY2FsbFNlbmRBUEkoc2VuZGVyX3BzaWQsIHJlc3BvbnNlKTtcblxuICAgICAgICAgICAgcmVzb2x2ZSgnZG9uZScpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVqZWN0KGVycm9yKVxuICAgICAgICB9XG4gICAgfSlcbn1cblxuLy8gSGFuZGxlcyBtZXNzYWdpbmdfcG9zdGJhY2tzIGV2ZW50c1xuYXN5bmMgZnVuY3Rpb24gaGFuZGxlUG9zdGJhY2soc2VuZGVyX3BzaWQsIHJlY2VpdmVkX3Bvc3RiYWNrKSB7XG4gICAgbGV0IHJlc3BvbnNlO1xuXG4gICAgbGV0IHBheWxvYWQgPSByZWNlaXZlZF9wb3N0YmFjay5wYXlsb2FkO1xuXG4gICAgc3dpdGNoIChwYXlsb2FkKSB7XG4gICAgICAgIGNhc2UgJ3llcyc6XG4gICAgICAgICAgICByZXNwb25zZSA9IHsgJ3RleHQnOiAnVGhhbmtzIScgfTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ25vJzpcbiAgICAgICAgICAgIHJlc3BvbnNlID0geyAndGV4dCc6ICdPb3BzLCB0cnkgc2VuZGluZyBhbm90aGVyIGltYWdlLicgfTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ1JFU1RBUlRfQk9UJzpcbiAgICAgICAgY2FzZSAnR0VUX1NUQVJURUQnOlxuICAgICAgICAgICAgYXdhaXQgaGFuZGxlR2V0U3RhcnRlZChzZW5kZXJfcHNpZCk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdMSVNUX1BST0RVQ1QnOlxuICAgICAgICAgICAgYXdhaXQgaGFuZGxlU2VuZExpc3RQcm9kdWN0KHNlbmRlcl9wc2lkKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ1NFVF9MSVNUJzpcbiAgICAgICAgICAgIGF3YWl0IGhhbmRsZVNlbmRTZXRMaXN0KHNlbmRlcl9wc2lkKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ0RSRVNTX0xJU1QnOlxuICAgICAgICAgICAgYXdhaXQgaGFuZGxlU2VuZERyZXNzTGlzdChzZW5kZXJfcHNpZCk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdTS0lSVF9MSVNUJzpcbiAgICAgICAgICAgIGF3YWl0IGhhbmRsZVNlbmRTa2lydExpc3Qoc2VuZGVyX3BzaWQpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnUFJPRFVDVF9ERVRBSUwnOlxuICAgICAgICAgICAgYXdhaXQgaGFuZGxlRGV0YWlsUHJvZHVjdChzZW5kZXJfcHNpZCk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdTSE9XX0lNQUdFJzpcbiAgICAgICAgICAgIGF3YWl0IGhhbmRsZVNob3dJbWFnZShzZW5kZXJfcHNpZCk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdCQUNLX1RPX0xJU1QnOlxuICAgICAgICAgICAgYXdhaXQgaGFuZGxlQmFja1RvTGlzdChzZW5kZXJfcHNpZCk7XG4gICAgICAgICAgICBicmVhaztcblxuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXNwb25zZSA9IHsgJ3RleHQnOiBgb29wISBJIGRvbid0IGtub3cgcmVzcG9uc2Ugd2l0aCBwb3N0YmFjayAke3BheWxvYWR9YCB9O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuXG5cbiAgICAvLyBjYWxsU2VuZEFQSShzZW5kZXJfcHNpZCwgcmVzcG9uc2UpO1xufVxuXG5cbi8vIEhhbmRsZXMgbWVzc2FnZXMgZXZlbnRzXG5mdW5jdGlvbiBoYW5kbGVNZXNzYWdlKHNlbmRlcl9wc2lkLCByZWNlaXZlZF9tZXNzYWdlKSB7XG4gICAgbGV0IHJlc3BvbnNlO1xuXG4gICAgLy8gQ2hlY2sgaWYgdGhlIG1lc3NhZ2UgY29udGFpbnMgdGV4dFxuICAgIGlmIChyZWNlaXZlZF9tZXNzYWdlLnRleHQpIHtcblxuICAgICAgICAvLyBDcmVhdGUgdGhlIHBheWxvYWQgZm9yIGEgYmFzaWMgdGV4dCBtZXNzYWdlXG4gICAgICAgIHJlc3BvbnNlID0ge1xuICAgICAgICAgICAgXCJ0ZXh0XCI6IGBDaMOgbyBt4burbmcgYuG6oW4gxJHhur9uIHbhu5tpIE1vbGxpZSBTaG9wLiBC4bqhbiDEkeG7o2kgbcOsbmggbeG7mXQgY2jDunQgbmjDqS4gTcOsbmggc+G6vSB0cuG6oyBs4budaSBuZ2F5IDwzYFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gU2VuZHMgdGhlIHJlc3BvbnNlIG1lc3NhZ2VcbiAgICBjYWxsU2VuZEFQSShzZW5kZXJfcHNpZCwgcmVzcG9uc2UpO1xufVxuXG5cblxuXG5sZXQgZ2V0U2V0TGlzdFRlbXBsYXRlID0gKHNlbmRlcl9wc2lkKSA9PiB7XG4gICAgbGV0IHJlc3BvbnNlID0ge1xuICAgICAgICBcImF0dGFjaG1lbnRcIjoge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidGVtcGxhdGVcIixcbiAgICAgICAgICAgIFwicGF5bG9hZFwiOiB7XG4gICAgICAgICAgICAgICAgXCJ0ZW1wbGF0ZV90eXBlXCI6IFwiZ2VuZXJpY1wiLFxuICAgICAgICAgICAgICAgIFwiZWxlbWVudHNcIjogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwiU2V0IMOBbyBUcuG7hSBWYWkgVsOheSBEw6BpIENo4buvIEFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3VidGl0bGVcIjogXCJTZXQgw4FvIFRy4buFIFZhaSBWw6F5IETDoGkgQ2jhu68gQSBsw6AgbeG7mXQgdHJvbmcgbmjhu69uZyBz4bqjbiBwaOG6qW0gbuG7lWkgYuG6rXQgY+G7p2EgU2hvcFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJpbWFnZV91cmxcIjogSU1BR0VTWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJidXR0b25zXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInBvc3RiYWNrXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidGl0bGVcIjogXCJDaGkgVGnhur90XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicGF5bG9hZFwiOiBcIlBST0RVQ1RfREVUQUlMXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIndlYnVybFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInVybFwiOiBgJHtwcm9jZXNzLmVudi5VUkxfV0VCX1ZJRVdfT1JERVJ9P3NlbmRlcklkPSR7c2VuZGVyX3BzaWR9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0aXRsZVwiOiBcIk11YSBz4bqjbiBwaOG6qW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ3ZWJ2aWV3X2hlaWdodF9yYXRpb1wiOiBcInRhbGxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJtZXNzZW5nZXJfZXh0ZW5zaW9uc1wiOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidGl0bGVcIjogXCJTZXQgw4FvIFRy4buFIFZhaSBWw6F5IETDoGkgQ2jhu68gQVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzdWJ0aXRsZVwiOiBcIlNldCDDgW8gVHLhu4UgVmFpIFbDoXkgRMOgaSBDaOG7ryBBIGzDoCBt4buZdCB0cm9uZyBuaOG7r25nIHPhuqNuIHBo4bqpbSBu4buVaSBi4bqtdCBj4bunYSBTaG9wXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImltYWdlX3VybFwiOiBJTUFHRVNbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBcImJ1dHRvbnNcIjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwicG9zdGJhY2tcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0aXRsZVwiOiBcIkNoaSBUaeG6v3RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXlsb2FkXCI6IFwiUFJPRFVDVF9ERVRBSUxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwid2VidXJsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidXJsXCI6IGAke3Byb2Nlc3MuZW52LlVSTF9XRUJfVklFV19PUkRFUn0/c2VuZGVySWQ9JHtzZW5kZXJfcHNpZH1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwiTXVhIHPhuqNuIHBo4bqpbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIndlYnZpZXdfaGVpZ2h0X3JhdGlvXCI6IFwidGFsbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm1lc3Nlbmdlcl9leHRlbnNpb25zXCI6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0aXRsZVwiOiBcIlNldCDDgW8gVHLhu4UgVmFpIFbDoXkgRMOgaSBDaOG7ryBBXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInN1YnRpdGxlXCI6IFwiU2V0IMOBbyBUcuG7hSBWYWkgVsOheSBEw6BpIENo4buvIEEgbMOgIG3hu5l0IHRyb25nIG5o4buvbmcgc+G6o24gcGjhuqltIG7hu5VpIGLhuq10IGPhu6dhIFNob3BcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaW1hZ2VfdXJsXCI6IElNQUdFU1swXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYnV0dG9uc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJwb3N0YmFja1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwiQ2hpIFRp4bq/dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInBheWxvYWRcIjogXCJQUk9EVUNUX0RFVEFJTFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ3ZWJ1cmxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ1cmxcIjogYCR7cHJvY2Vzcy5lbnYuVVJMX1dFQl9WSUVXX09SREVSfT9zZW5kZXJJZD0ke3NlbmRlcl9wc2lkfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidGl0bGVcIjogXCJNdWEgc+G6o24gcGjhuqltXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwid2Vidmlld19oZWlnaHRfcmF0aW9cIjogXCJ0YWxsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibWVzc2VuZ2VyX2V4dGVuc2lvbnNcIjogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwiUXVheSB0cuG7nyBs4bqhaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzdWJ0aXRsZVwiOiBcIlF1YXkgdHLhu58gbOG6oWkgZGFuaCBzw6FjaCBz4bqjbiBwaOG6qW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaW1hZ2VfdXJsXCI6IElNQUdFU1swXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYnV0dG9uc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJwb3N0YmFja1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwiUXVheSB0cuG7nyBs4bqhaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInBheWxvYWRcIjogXCJCQUNLX1RPX0xJU1RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXNwb25zZTtcbn1cblxuXG5sZXQgaGFuZGxlU2VuZFNldExpc3QgPSAoc2VuZGVyX3BzaWQpID0+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICB0cnkge1xuXG4gICAgICAgICAgICAvLyBzZW5kIGdlbmVyaWMgbWVzc2FnZVxuICAgICAgICAgICAgbGV0IHJlc3BvbnNlID0gZ2V0U2V0TGlzdFRlbXBsYXRlKHNlbmRlcl9wc2lkKTtcbiAgICAgICAgICAgIGF3YWl0IGNhbGxTZW5kQVBJKHNlbmRlcl9wc2lkLCByZXNwb25zZSk7XG5cblxuICAgICAgICAgICAgcmVzb2x2ZSgnZG9uZScpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVqZWN0KGVycm9yKVxuICAgICAgICB9XG4gICAgfSlcbn1cblxubGV0IGhhbmRsZVNlbmREcmVzc0xpc3QgPSAoc2VuZGVyX3BzaWQpID0+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICB0cnkge1xuXG4gICAgICAgICAgICAvLyBzZW5kIGdlbmVyaWMgbWVzc2FnZVxuICAgICAgICAgICAgbGV0IHJlc3BvbnNlID0gZ2V0U2V0TGlzdFRlbXBsYXRlKHNlbmRlcl9wc2lkKTtcbiAgICAgICAgICAgIGF3YWl0IGNhbGxTZW5kQVBJKHNlbmRlcl9wc2lkLCByZXNwb25zZSk7XG5cblxuICAgICAgICAgICAgcmVzb2x2ZSgnZG9uZScpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVqZWN0KGVycm9yKVxuICAgICAgICB9XG4gICAgfSlcbn1cblxubGV0IGhhbmRsZVNlbmRTa2lydExpc3QgPSAoc2VuZGVyX3BzaWQpID0+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICB0cnkge1xuXG4gICAgICAgICAgICAvLyBzZW5kIGdlbmVyaWMgbWVzc2FnZVxuICAgICAgICAgICAgbGV0IHJlc3BvbnNlID0gZ2V0U2V0TGlzdFRlbXBsYXRlKHNlbmRlcl9wc2lkKTtcbiAgICAgICAgICAgIGF3YWl0IGNhbGxTZW5kQVBJKHNlbmRlcl9wc2lkLCByZXNwb25zZSk7XG5cblxuICAgICAgICAgICAgcmVzb2x2ZSgnZG9uZScpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVqZWN0KGVycm9yKVxuICAgICAgICB9XG4gICAgfSlcbn1cblxubGV0IGhhbmRsZUJhY2tUb0xpc3QgPSBhc3luYyAoc2VuZGVyX3BzaWQpID0+IHtcbiAgICBhd2FpdCBoYW5kbGVTZW5kTGlzdFByb2R1Y3Qoc2VuZGVyX3BzaWQpO1xufVxuXG5cbmxldCBnZXRQcm9kdWN0RGV0YWlsVGVtcGxhdGUgPSAoKSA9PiB7XG4gICAgbGV0IHJlc3BvbnNlID0ge1xuICAgICAgICBcImF0dGFjaG1lbnRcIjoge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwidGVtcGxhdGVcIixcbiAgICAgICAgICAgIFwicGF5bG9hZFwiOiB7XG4gICAgICAgICAgICAgICAgXCJ0ZW1wbGF0ZV90eXBlXCI6IFwiZ2VuZXJpY1wiLFxuICAgICAgICAgICAgICAgIFwiZWxlbWVudHNcIjogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwiU2V0IMOBbyBUcuG7hSBWYWkgVsOheSBEw6BpIENo4buvIEFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3VidGl0bGVcIjogXCIyOTYuMDAwxJFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaW1hZ2VfdXJsXCI6IElNQUdFU1swXSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0aXRsZVwiOiBcIlNldCDDgW8gVHLhu4UgVmFpIFbDoXkgRMOgaSBDaOG7ryBBXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInN1YnRpdGxlXCI6IFwiMjk2LjAwMMSRXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImltYWdlX3VybFwiOiBJTUFHRVNbMF0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidGl0bGVcIjogXCJTZXQgw4FvIFRy4buFIFZhaSBWw6F5IETDoGkgQ2jhu68gQVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzdWJ0aXRsZVwiOiBcIjI5Ni4wMDDEkVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJpbWFnZV91cmxcIjogSU1BR0VTWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJidXR0b25zXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcInBvc3RiYWNrXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidGl0bGVcIjogXCJIaeG7g24gdGjhu4sg4bqjbmhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXlsb2FkXCI6IFwiU0hPV19JTUFHRVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwiUXVheSB0cuG7nyBs4bqhaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzdWJ0aXRsZVwiOiBcIlF1YXkgdHLhu58gbOG6oWkgZGFuaCBzw6FjaCBz4bqjbiBwaOG6qW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaW1hZ2VfdXJsXCI6IElNQUdFU1swXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYnV0dG9uc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJwb3N0YmFja1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwiUXVheSB0cuG7nyBs4bqhaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInBheWxvYWRcIjogXCJCQUNLX1RPX0xJU1RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXNwb25zZTtcbn1cblxuXG5sZXQgaGFuZGxlRGV0YWlsUHJvZHVjdCA9IChzZW5kZXJfcHNpZCkgPT4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIHRyeSB7XG5cbiAgICAgICAgICAgIC8vIHNlbmQgZ2VuZXJpYyBtZXNzYWdlXG4gICAgICAgICAgICBsZXQgcmVzcG9uc2UgPSBnZXRQcm9kdWN0RGV0YWlsVGVtcGxhdGUoKTtcbiAgICAgICAgICAgIGF3YWl0IGNhbGxTZW5kQVBJKHNlbmRlcl9wc2lkLCByZXNwb25zZSk7XG5cblxuICAgICAgICAgICAgcmVzb2x2ZSgnZG9uZScpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVqZWN0KGVycm9yKVxuICAgICAgICB9XG4gICAgfSlcbn1cblxuXG5sZXQgZ2V0SW1hZ2VUZW1wbGF0ZSA9ICgpID0+IHtcbiAgICBsZXQgcmVzcG9uc2UgPSB7XG4gICAgICAgIFwiYXR0YWNobWVudFwiOiB7XG4gICAgICAgICAgICBcInR5cGVcIjogXCJpbWFnZVwiLFxuICAgICAgICAgICAgXCJwYXlsb2FkXCI6IHtcbiAgICAgICAgICAgICAgICBcInVybFwiOiBJTUFHRVNbMF0sXG4gICAgICAgICAgICAgICAgXCJpc19yZXVzYWJsZVwiOiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufVxuXG5cbmxldCBnZXRCdXR0b25UZW1wbGF0ZSA9IChzZW5kZXJfcHNpZCkgPT4ge1xuICAgIGxldCByZXNwb25zZSA9IHtcbiAgICAgICAgXCJhdHRhY2htZW50XCI6IHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInRlbXBsYXRlXCIsXG4gICAgICAgICAgICBcInBheWxvYWRcIjoge1xuICAgICAgICAgICAgICAgIFwidGVtcGxhdGVfdHlwZVwiOiBcImJ1dHRvblwiLFxuICAgICAgICAgICAgICAgIFwidGV4dFwiOiBcIlNpemUgc2hvcCA8IDU4a2cgbmhhIGLhuqFuIGl1XCIsXG4gICAgICAgICAgICAgICAgXCJidXR0b25zXCI6IFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwicG9zdGJhY2tcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidGl0bGVcIjogXCJEQU5IIFPDgUNIIFPhuqJOIFBI4bqoTSBO4buUSSBC4bqsVFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXlsb2FkXCI6IFwiTElTVF9QUk9EVUNUXCIsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIndlYnVybFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ1cmxcIjogYCR7cHJvY2Vzcy5lbnYuVVJMX1dFQl9WSUVXX09SREVSfT9zZW5kZXJJZD0ke3NlbmRlcl9wc2lkfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwiTXVhIHPhuqNuIHBo4bqpbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ3ZWJ2aWV3X2hlaWdodF9yYXRpb1wiOiBcInRhbGxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwibWVzc2VuZ2VyX2V4dGVuc2lvbnNcIjogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXNwb25zZTtcbn1cblxubGV0IGhhbmRsZVNob3dJbWFnZSA9IChzZW5kZXJfcHNpZCkgPT4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIHRyeSB7XG5cbiAgICAgICAgICAgIC8vIHNlbmQgYW4gaW1hZ2UgXG4gICAgICAgICAgICBsZXQgcmVzcG9uc2VJbWFnZSA9IGdldEltYWdlVGVtcGxhdGUoKTtcbiAgICAgICAgICAgIC8vIHNlbmQgYSBidXR0b24gdGVtcGxhdGVzXG4gICAgICAgICAgICBsZXQgcmVzcG9uc2VCdG4gPSBnZXRCdXR0b25UZW1wbGF0ZShzZW5kZXJfcHNpZCk7XG5cblxuXG4gICAgICAgICAgICAvLyBzZW5kIGdlbmVyaWMgbWVzc2FnZVxuXG4gICAgICAgICAgICBhd2FpdCBjYWxsU2VuZEFQSShzZW5kZXJfcHNpZCwgcmVzcG9uc2VJbWFnZSk7XG4gICAgICAgICAgICBhd2FpdCBjYWxsU2VuZEFQSShzZW5kZXJfcHNpZCwgcmVzcG9uc2VCdG4pO1xuXG5cbiAgICAgICAgICAgIHJlc29sdmUoJ2RvbmUnKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlamVjdChlcnJvcilcbiAgICAgICAgfVxuICAgIH0pXG59XG5cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgaGFuZGxlR2V0U3RhcnRlZDogaGFuZGxlR2V0U3RhcnRlZCxcbiAgICBoYW5kbGVTZW5kTGlzdFByb2R1Y3Q6IGhhbmRsZVNlbmRMaXN0UHJvZHVjdCxcbiAgICBoYW5kbGVQb3N0YmFjazogaGFuZGxlUG9zdGJhY2ssXG4gICAgaGFuZGxlTWVzc2FnZTogaGFuZGxlTWVzc2FnZSxcbiAgICBoYW5kbGVTZW5kU2V0TGlzdDogaGFuZGxlU2VuZFNldExpc3QsXG4gICAgaGFuZGxlU2VuZERyZXNzTGlzdDogaGFuZGxlU2VuZERyZXNzTGlzdCxcbiAgICBoYW5kbGVTZW5kU2tpcnRMaXN0OiBoYW5kbGVTZW5kU2tpcnRMaXN0LFxuICAgIGNhbGxTZW5kQVBJOiBjYWxsU2VuZEFQSSxcbiAgICBnZXRVc2VyTmFtZTogZ2V0VXNlck5hbWVcbn0iXSwibWFwcGluZ3MiOiI7Ozs7QUFDQTs7OzsrQ0FBQSxvSjs7Ozs7O0FBREFBLE9BQU8sQ0FBQyxRQUFELENBQVAsQ0FBa0JDLE1BQWxCOztBQUdBLElBQU1DLGlCQUFpQixHQUFHQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUYsaUJBQXRDO0FBRUEsSUFBTUcsTUFBTSxHQUFHLENBQ1gsMkhBRFcsQ0FBZjs7QUFLQSxJQUFJQyxXQUFXO0VBQUEsc0VBQUcsaUJBQU9DLFdBQVAsRUFBb0JDLFFBQXBCO0lBQUE7SUFBQTtNQUFBO1FBQUE7VUFBQTtZQUNkO1lBQ0lDLFlBRlUsR0FFSztjQUNmLGFBQWE7Z0JBQ1QsTUFBTUY7Y0FERyxDQURFO2NBSWYsV0FBV0M7WUFKSSxDQUZMO1lBQUE7WUFBQSxPQVNSRSxtQkFBbUIsQ0FBQ0gsV0FBRCxDQVRYOztVQUFBO1lBQUE7WUFBQSxPQVVSSSxZQUFZLENBQUNKLFdBQUQsQ0FWSjs7VUFBQTtZQVlkO1lBQ0EsSUFBQUssbUJBQUEsRUFBUTtjQUNKLE9BQU8sOENBREg7Y0FFSixNQUFNO2dCQUFFLGdCQUFnQlY7Y0FBbEIsQ0FGRjtjQUdKLFVBQVUsTUFITjtjQUlKLFFBQVFPO1lBSkosQ0FBUixFQUtHLFVBQUNJLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEVBQW9CO2NBQ25CLElBQUksQ0FBQ0YsR0FBTCxFQUFVO2dCQUNORyxPQUFPLENBQUNDLEdBQVIsQ0FBWSxlQUFaO2NBQ0gsQ0FGRCxNQUVPO2dCQUNIRCxPQUFPLENBQUNFLEtBQVIsQ0FBYyw0QkFBNEJMLEdBQTFDO2NBQ0g7WUFDSixDQVhEOztVQWJjO1VBQUE7WUFBQTtRQUFBO01BQUE7SUFBQTtFQUFBLENBQUg7O0VBQUEsZ0JBQVhQLFdBQVc7SUFBQTtFQUFBO0FBQUEsR0FBZjs7QUEyQkEsSUFBSUssWUFBWSxHQUFHLFNBQWZBLFlBQWUsQ0FBQ0osV0FBRCxFQUFpQjtFQUNoQztFQUNBLElBQUlFLFlBQVksR0FBRztJQUNmLGFBQWE7TUFDVCxNQUFNRjtJQURHLENBREU7SUFJZixpQkFBaUI7RUFKRixDQUFuQixDQUZnQyxDQVNoQzs7RUFDQSxJQUFBSyxtQkFBQSxFQUFRO0lBQ0osT0FBTyw4Q0FESDtJQUVKLE1BQU07TUFBRSxnQkFBZ0JWO0lBQWxCLENBRkY7SUFHSixVQUFVLE1BSE47SUFJSixRQUFRTztFQUpKLENBQVIsRUFLRyxVQUFDSSxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxFQUFvQjtJQUNuQixJQUFJLENBQUNGLEdBQUwsRUFBVTtNQUNORyxPQUFPLENBQUNDLEdBQVIsQ0FBWSxvQkFBWjtJQUNILENBRkQsTUFFTztNQUNIRCxPQUFPLENBQUNFLEtBQVIsQ0FBYyw0QkFBNEJMLEdBQTFDO0lBQ0g7RUFDSixDQVhEO0FBWUgsQ0F0QkQ7O0FBd0JBLElBQUlILG1CQUFtQixHQUFHLFNBQXRCQSxtQkFBc0IsQ0FBQ0gsV0FBRCxFQUFpQjtFQUN2QztFQUNBLElBQUlFLFlBQVksR0FBRztJQUNmLGFBQWE7TUFDVCxNQUFNRjtJQURHLENBREU7SUFJZixpQkFBaUI7RUFKRixDQUFuQixDQUZ1QyxDQVN2Qzs7RUFDQSxJQUFBSyxtQkFBQSxFQUFRO0lBQ0osT0FBTyw4Q0FESDtJQUVKLE1BQU07TUFBRSxnQkFBZ0JWO0lBQWxCLENBRkY7SUFHSixVQUFVLE1BSE47SUFJSixRQUFRTztFQUpKLENBQVIsRUFLRyxVQUFDSSxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxFQUFvQjtJQUNuQixJQUFJLENBQUNGLEdBQUwsRUFBVTtNQUNORyxPQUFPLENBQUNDLEdBQVIsQ0FBWSxvQkFBWjtJQUNILENBRkQsTUFFTztNQUNIRCxPQUFPLENBQUNFLEtBQVIsQ0FBYyw0QkFBNEJMLEdBQTFDO0lBQ0g7RUFDSixDQVhEO0FBWUgsQ0F0QkQ7O0FBeUJBLElBQUlNLFdBQVcsR0FBRyxTQUFkQSxXQUFjLENBQUNaLFdBQUQsRUFBaUI7RUFDL0IsT0FBTyxJQUFJYSxPQUFKLENBQVksVUFBQ0MsT0FBRCxFQUFVQyxNQUFWLEVBQXFCO0lBQ3BDLElBQUFWLG1CQUFBLEVBQVE7TUFDSiw0Q0FBcUNMLFdBQXJDLG1FQUF5R0wsaUJBQXpHLENBREk7TUFFSixNQUFNO1FBQUUsZ0JBQWdCQTtNQUFsQixDQUZGO01BR0osVUFBVTtJQUhOLENBQVIsRUFJRyxVQUFDVyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxFQUFvQjtNQUNuQixJQUFJLENBQUNGLEdBQUwsRUFBVTtRQUNOLElBQUlMLFFBQVEsR0FBR2UsSUFBSSxDQUFDQyxLQUFMLENBQVdULElBQVgsQ0FBZjtRQUNBLElBQUlVLFFBQVEsYUFBTWpCLFFBQVEsQ0FBQ2tCLFNBQWYsY0FBNEJsQixRQUFRLENBQUNtQixVQUFyQyxDQUFaO1FBQ0FOLE9BQU8sQ0FBQ0ksUUFBRCxDQUFQO01BQ0gsQ0FKRCxNQUlPO1FBQ0hULE9BQU8sQ0FBQ0UsS0FBUixDQUFjLDRCQUE0QkwsR0FBMUM7TUFDSDtJQUNKLENBWkQ7RUFhSCxDQWRNLENBQVA7QUFlSCxDQWhCRDs7QUFtQkEsSUFBSWUsZ0JBQWdCLEdBQUcsU0FBbkJBLGdCQUFtQixDQUFDckIsV0FBRCxFQUFpQjtFQUNwQyxPQUFPLElBQUlhLE9BQUo7SUFBQSx1RUFBWSxrQkFBT0MsT0FBUCxFQUFnQkMsTUFBaEI7TUFBQTtNQUFBO1FBQUE7VUFBQTtZQUFBO2NBQUE7Y0FBQTtjQUFBLE9BRVVILFdBQVcsQ0FBQ1osV0FBRCxDQUZyQjs7WUFBQTtjQUVQa0IsUUFGTztjQUlYO2NBQ0lJLFlBTE8sR0FLUTtnQkFBRSx3Q0FBeUJKLFFBQXpCO2NBQUYsQ0FMUjtjQUFBO2NBQUEsT0FNTG5CLFdBQVcsQ0FBQ0MsV0FBRCxFQUFjc0IsWUFBZCxDQU5OOztZQUFBO2NBU1g7Y0FDSUMsc0JBVk8sR0FVa0JDLGtCQUFrQixFQVZwQztjQUFBO2NBQUEsT0FXTHpCLFdBQVcsQ0FBQ0MsV0FBRCxFQUFjdUIsc0JBQWQsQ0FYTjs7WUFBQTtjQWNYVCxPQUFPLENBQUMsTUFBRCxDQUFQO2NBZFc7Y0FBQTs7WUFBQTtjQUFBO2NBQUE7Y0FnQlhDLE1BQU0sY0FBTjs7WUFoQlc7WUFBQTtjQUFBO1VBQUE7UUFBQTtNQUFBO0lBQUEsQ0FBWjs7SUFBQTtNQUFBO0lBQUE7RUFBQSxJQUFQO0FBbUJILENBcEJEOztBQXVCQSxJQUFJUyxrQkFBa0IsR0FBRyxTQUFyQkEsa0JBQXFCLEdBQU07RUFDM0IsSUFBSXZCLFFBQVEsR0FBRztJQUNYLGNBQWM7TUFDVixRQUFRLFVBREU7TUFFVixXQUFXO1FBQ1AsaUJBQWlCLFNBRFY7UUFFUCxZQUFZLENBQUM7VUFDVCxTQUFTLGtDQURBO1VBRVQsWUFBWSwyQ0FGSDtVQUdULGFBQWFILE1BQU0sQ0FBQyxDQUFELENBSFY7VUFJVCxXQUFXLENBQ1A7WUFDSSxRQUFRLFVBRFo7WUFFSSxTQUFTLDRCQUZiO1lBR0ksV0FBVztVQUhmLENBRE8sRUFNUDtZQUNJLFFBQVEsVUFEWjtZQUVJLFNBQVMsUUFGYjtZQUdJLFdBQVc7VUFIZixDQU5PO1FBSkYsQ0FBRDtNQUZMO0lBRkQ7RUFESCxDQUFmO0VBMEJBLE9BQU9HLFFBQVA7QUFDSCxDQTVCRDs7QUErQkEsSUFBSXdCLHNCQUFzQixHQUFHLFNBQXpCQSxzQkFBeUIsQ0FBQ3pCLFdBQUQsRUFBaUI7RUFDMUMsSUFBSUMsUUFBUSxHQUFHO0lBQ1gsY0FBYztNQUNWLFFBQVEsVUFERTtNQUVWLFdBQVc7UUFDUCxpQkFBaUIsU0FEVjtRQUVQLFlBQVksQ0FDUjtVQUNJLFNBQVMsdUNBRGI7VUFFSSxZQUFZLDJDQUZoQjtVQUdJLGFBQWFILE1BQU0sQ0FBQyxDQUFELENBSHZCO1VBSUksV0FBVyxDQUNQO1lBQ0ksUUFBUSxVQURaO1lBRUksU0FBUyxLQUZiO1lBR0ksV0FBVztVQUhmLENBRE8sRUFNUDtZQUNJLFFBQVEsVUFEWjtZQUVJLFNBQVMsS0FGYjtZQUdJLFdBQVc7VUFIZixDQU5PLEVBV1A7WUFDSSxRQUFRLFVBRFo7WUFFSSxTQUFTLEtBRmI7WUFHSSxXQUFXO1VBSGYsQ0FYTztRQUpmLENBRFEsRUF1QlI7VUFDSSxTQUFTLFlBRGI7VUFFSSxZQUFZLDRCQUZoQjtVQUdJLGFBQWFBLE1BQU0sQ0FBQyxDQUFELENBSHZCO1VBSUksV0FBVyxDQUNQO1lBQ0ksUUFBUSxTQURaO1lBRUksaUJBQVVGLE9BQU8sQ0FBQ0MsR0FBUixDQUFZNkIsa0JBQXRCLHVCQUFxRDFCLFdBQXJELENBRko7WUFHSSxTQUFTLGNBSGI7WUFJSSx3QkFBd0IsTUFKNUI7WUFLSSx3QkFBd0I7VUFMNUIsQ0FETztRQUpmLENBdkJRLEVBcUNSO1VBQ0ksU0FBUyx3QkFEYjtVQUVJLFlBQVksMkRBRmhCO1VBR0ksYUFBYUYsTUFBTSxDQUFDLENBQUQsQ0FIdkI7VUFJSSxXQUFXLENBQ1A7WUFDSSxRQUFRLFVBRFo7WUFFSSxTQUFTLHVCQUZiO1lBR0ksV0FBVztVQUhmLENBRE87UUFKZixDQXJDUTtNQUZMO0lBRkQ7RUFESCxDQUFmO0VBMkRBLE9BQU9HLFFBQVA7QUFDSCxDQTdERDs7QUFnRUEsSUFBSTBCLHFCQUFxQixHQUFHLFNBQXhCQSxxQkFBd0IsQ0FBQzNCLFdBQUQsRUFBaUI7RUFDekMsT0FBTyxJQUFJYSxPQUFKO0lBQUEsdUVBQVksa0JBQU9DLE9BQVAsRUFBZ0JDLE1BQWhCO01BQUE7TUFBQTtRQUFBO1VBQUE7WUFBQTtjQUFBO2NBR1g7Y0FDSWQsUUFKTyxHQUlJd0Isc0JBQXNCLENBQUN6QixXQUFELENBSjFCO2NBQUE7Y0FBQSxPQUtMRCxXQUFXLENBQUNDLFdBQUQsRUFBY0MsUUFBZCxDQUxOOztZQUFBO2NBT1hhLE9BQU8sQ0FBQyxNQUFELENBQVA7Y0FQVztjQUFBOztZQUFBO2NBQUE7Y0FBQTtjQVNYQyxNQUFNLGNBQU47O1lBVFc7WUFBQTtjQUFBO1VBQUE7UUFBQTtNQUFBO0lBQUEsQ0FBWjs7SUFBQTtNQUFBO0lBQUE7RUFBQSxJQUFQO0FBWUgsQ0FiRCxDLENBZUE7OztTQUNlYSxjOztFQTBEZjs7OzsrRUExREEsbUJBQThCNUIsV0FBOUIsRUFBMkM2QixpQkFBM0M7SUFBQTtJQUFBO01BQUE7UUFBQTtVQUFBO1lBR1FDLE9BSFIsR0FHa0JELGlCQUFpQixDQUFDQyxPQUhwQztZQUFBLGdCQUtZQSxPQUxaO1lBQUEsb0NBTWEsS0FOYix5QkFVYSxJQVZiLHlCQWNhLGFBZGIseUJBZWEsYUFmYix5QkFtQmEsY0FuQmIsMEJBdUJhLFVBdkJiLDBCQTJCYSxZQTNCYiwwQkErQmEsWUEvQmIsMEJBbUNhLGdCQW5DYiwwQkF1Q2EsWUF2Q2IsMEJBMkNhLGNBM0NiO1lBQUE7O1VBQUE7WUFPWTdCLFFBQVEsR0FBRztjQUFFLFFBQVE7WUFBVixDQUFYO1lBUFo7O1VBQUE7WUFXWUEsUUFBUSxHQUFHO2NBQUUsUUFBUTtZQUFWLENBQVg7WUFYWjs7VUFBQTtZQUFBO1lBQUEsT0FnQmtCb0IsZ0JBQWdCLENBQUNyQixXQUFELENBaEJsQzs7VUFBQTtZQUFBOztVQUFBO1lBQUE7WUFBQSxPQW9Ca0IyQixxQkFBcUIsQ0FBQzNCLFdBQUQsQ0FwQnZDOztVQUFBO1lBQUE7O1VBQUE7WUFBQTtZQUFBLE9Bd0JrQitCLGlCQUFpQixDQUFDL0IsV0FBRCxDQXhCbkM7O1VBQUE7WUFBQTs7VUFBQTtZQUFBO1lBQUEsT0E0QmtCZ0MsbUJBQW1CLENBQUNoQyxXQUFELENBNUJyQzs7VUFBQTtZQUFBOztVQUFBO1lBQUE7WUFBQSxPQWdDa0JpQyxtQkFBbUIsQ0FBQ2pDLFdBQUQsQ0FoQ3JDOztVQUFBO1lBQUE7O1VBQUE7WUFBQTtZQUFBLE9Bb0NrQmtDLG1CQUFtQixDQUFDbEMsV0FBRCxDQXBDckM7O1VBQUE7WUFBQTs7VUFBQTtZQUFBO1lBQUEsT0F3Q2tCbUMsZUFBZSxDQUFDbkMsV0FBRCxDQXhDakM7O1VBQUE7WUFBQTs7VUFBQTtZQUFBO1lBQUEsT0E0Q2tCb0MsZ0JBQWdCLENBQUNwQyxXQUFELENBNUNsQzs7VUFBQTtZQUFBOztVQUFBO1lBaURZQyxRQUFRLEdBQUc7Y0FBRSwyREFBb0Q2QixPQUFwRDtZQUFGLENBQVg7WUFqRFo7O1VBQUE7VUFBQTtZQUFBO1FBQUE7TUFBQTtJQUFBO0VBQUEsQzs7OztBQTJEQSxTQUFTTyxhQUFULENBQXVCckMsV0FBdkIsRUFBb0NzQyxnQkFBcEMsRUFBc0Q7RUFDbEQsSUFBSXJDLFFBQUosQ0FEa0QsQ0FHbEQ7O0VBQ0EsSUFBSXFDLGdCQUFnQixDQUFDQyxJQUFyQixFQUEyQjtJQUV2QjtJQUNBdEMsUUFBUSxHQUFHO01BQ1A7SUFETyxDQUFYO0VBR0gsQ0FWaUQsQ0FZbEQ7OztFQUNBRixXQUFXLENBQUNDLFdBQUQsRUFBY0MsUUFBZCxDQUFYO0FBQ0g7O0FBS0QsSUFBSXVDLGtCQUFrQixHQUFHLFNBQXJCQSxrQkFBcUIsQ0FBQ3hDLFdBQUQsRUFBaUI7RUFDdEMsSUFBSUMsUUFBUSxHQUFHO0lBQ1gsY0FBYztNQUNWLFFBQVEsVUFERTtNQUVWLFdBQVc7UUFDUCxpQkFBaUIsU0FEVjtRQUVQLFlBQVksQ0FDUjtVQUNJLFNBQVMsOEJBRGI7VUFFSSxZQUFZLDJFQUZoQjtVQUdJLGFBQWFILE1BQU0sQ0FBQyxDQUFELENBSHZCO1VBSUksV0FBVyxDQUNQO1lBQ0ksUUFBUSxVQURaO1lBRUksU0FBUyxVQUZiO1lBR0ksV0FBVztVQUhmLENBRE8sRUFNUDtZQUNJLFFBQVEsUUFEWjtZQUVJLGlCQUFVRixPQUFPLENBQUNDLEdBQVIsQ0FBWTZCLGtCQUF0Qix1QkFBcUQxQixXQUFyRCxDQUZKO1lBR0ksU0FBUyxjQUhiO1lBSUksd0JBQXdCLE1BSjVCO1lBS0ksd0JBQXdCO1VBTDVCLENBTk87UUFKZixDQURRLEVBb0JSO1VBQ0ksU0FBUyw4QkFEYjtVQUVJLFlBQVksMkVBRmhCO1VBR0ksYUFBYUYsTUFBTSxDQUFDLENBQUQsQ0FIdkI7VUFJSSxXQUFXLENBQ1A7WUFDSSxRQUFRLFVBRFo7WUFFSSxTQUFTLFVBRmI7WUFHSSxXQUFXO1VBSGYsQ0FETyxFQU1QO1lBQ0ksUUFBUSxRQURaO1lBRUksaUJBQVVGLE9BQU8sQ0FBQ0MsR0FBUixDQUFZNkIsa0JBQXRCLHVCQUFxRDFCLFdBQXJELENBRko7WUFHSSxTQUFTLGNBSGI7WUFJSSx3QkFBd0IsTUFKNUI7WUFLSSx3QkFBd0I7VUFMNUIsQ0FOTztRQUpmLENBcEJRLEVBdUNSO1VBQ0ksU0FBUyw4QkFEYjtVQUVJLFlBQVksMkVBRmhCO1VBR0ksYUFBYUYsTUFBTSxDQUFDLENBQUQsQ0FIdkI7VUFJSSxXQUFXLENBQ1A7WUFDSSxRQUFRLFVBRFo7WUFFSSxTQUFTLFVBRmI7WUFHSSxXQUFXO1VBSGYsQ0FETyxFQU1QO1lBQ0ksUUFBUSxRQURaO1lBRUksaUJBQVVGLE9BQU8sQ0FBQ0MsR0FBUixDQUFZNkIsa0JBQXRCLHVCQUFxRDFCLFdBQXJELENBRko7WUFHSSxTQUFTLGNBSGI7WUFJSSx3QkFBd0IsTUFKNUI7WUFLSSx3QkFBd0I7VUFMNUIsQ0FOTztRQUpmLENBdkNRLEVBMERSO1VBQ0ksU0FBUyxjQURiO1VBRUksWUFBWSxpQ0FGaEI7VUFHSSxhQUFhRixNQUFNLENBQUMsQ0FBRCxDQUh2QjtVQUlJLFdBQVcsQ0FDUDtZQUNJLFFBQVEsVUFEWjtZQUVJLFNBQVMsY0FGYjtZQUdJLFdBQVc7VUFIZixDQURPO1FBSmYsQ0ExRFE7TUFGTDtJQUZEO0VBREgsQ0FBZjtFQWdGQSxPQUFPRyxRQUFQO0FBQ0gsQ0FsRkQ7O0FBcUZBLElBQUk4QixpQkFBaUIsR0FBRyxTQUFwQkEsaUJBQW9CLENBQUMvQixXQUFELEVBQWlCO0VBQ3JDLE9BQU8sSUFBSWEsT0FBSjtJQUFBLHVFQUFZLGtCQUFPQyxPQUFQLEVBQWdCQyxNQUFoQjtNQUFBO01BQUE7UUFBQTtVQUFBO1lBQUE7Y0FBQTtjQUdYO2NBQ0lkLFFBSk8sR0FJSXVDLGtCQUFrQixDQUFDeEMsV0FBRCxDQUp0QjtjQUFBO2NBQUEsT0FLTEQsV0FBVyxDQUFDQyxXQUFELEVBQWNDLFFBQWQsQ0FMTjs7WUFBQTtjQVFYYSxPQUFPLENBQUMsTUFBRCxDQUFQO2NBUlc7Y0FBQTs7WUFBQTtjQUFBO2NBQUE7Y0FVWEMsTUFBTSxjQUFOOztZQVZXO1lBQUE7Y0FBQTtVQUFBO1FBQUE7TUFBQTtJQUFBLENBQVo7O0lBQUE7TUFBQTtJQUFBO0VBQUEsSUFBUDtBQWFILENBZEQ7O0FBZ0JBLElBQUlpQixtQkFBbUIsR0FBRyxTQUF0QkEsbUJBQXNCLENBQUNoQyxXQUFELEVBQWlCO0VBQ3ZDLE9BQU8sSUFBSWEsT0FBSjtJQUFBLHVFQUFZLGtCQUFPQyxPQUFQLEVBQWdCQyxNQUFoQjtNQUFBO01BQUE7UUFBQTtVQUFBO1lBQUE7Y0FBQTtjQUdYO2NBQ0lkLFFBSk8sR0FJSXVDLGtCQUFrQixDQUFDeEMsV0FBRCxDQUp0QjtjQUFBO2NBQUEsT0FLTEQsV0FBVyxDQUFDQyxXQUFELEVBQWNDLFFBQWQsQ0FMTjs7WUFBQTtjQVFYYSxPQUFPLENBQUMsTUFBRCxDQUFQO2NBUlc7Y0FBQTs7WUFBQTtjQUFBO2NBQUE7Y0FVWEMsTUFBTSxjQUFOOztZQVZXO1lBQUE7Y0FBQTtVQUFBO1FBQUE7TUFBQTtJQUFBLENBQVo7O0lBQUE7TUFBQTtJQUFBO0VBQUEsSUFBUDtBQWFILENBZEQ7O0FBZ0JBLElBQUlrQixtQkFBbUIsR0FBRyxTQUF0QkEsbUJBQXNCLENBQUNqQyxXQUFELEVBQWlCO0VBQ3ZDLE9BQU8sSUFBSWEsT0FBSjtJQUFBLHVFQUFZLGtCQUFPQyxPQUFQLEVBQWdCQyxNQUFoQjtNQUFBO01BQUE7UUFBQTtVQUFBO1lBQUE7Y0FBQTtjQUdYO2NBQ0lkLFFBSk8sR0FJSXVDLGtCQUFrQixDQUFDeEMsV0FBRCxDQUp0QjtjQUFBO2NBQUEsT0FLTEQsV0FBVyxDQUFDQyxXQUFELEVBQWNDLFFBQWQsQ0FMTjs7WUFBQTtjQVFYYSxPQUFPLENBQUMsTUFBRCxDQUFQO2NBUlc7Y0FBQTs7WUFBQTtjQUFBO2NBQUE7Y0FVWEMsTUFBTSxjQUFOOztZQVZXO1lBQUE7Y0FBQTtVQUFBO1FBQUE7TUFBQTtJQUFBLENBQVo7O0lBQUE7TUFBQTtJQUFBO0VBQUEsSUFBUDtBQWFILENBZEQ7O0FBZ0JBLElBQUlxQixnQkFBZ0I7RUFBQSx1RUFBRyxrQkFBT3BDLFdBQVA7SUFBQTtNQUFBO1FBQUE7VUFBQTtZQUFBO1lBQUEsT0FDYjJCLHFCQUFxQixDQUFDM0IsV0FBRCxDQURSOztVQUFBO1VBQUE7WUFBQTtRQUFBO01BQUE7SUFBQTtFQUFBLENBQUg7O0VBQUEsZ0JBQWhCb0MsZ0JBQWdCO0lBQUE7RUFBQTtBQUFBLEdBQXBCOztBQUtBLElBQUlLLHdCQUF3QixHQUFHLFNBQTNCQSx3QkFBMkIsR0FBTTtFQUNqQyxJQUFJeEMsUUFBUSxHQUFHO0lBQ1gsY0FBYztNQUNWLFFBQVEsVUFERTtNQUVWLFdBQVc7UUFDUCxpQkFBaUIsU0FEVjtRQUVQLFlBQVksQ0FDUjtVQUNJLFNBQVMsOEJBRGI7VUFFSSxZQUFZLFVBRmhCO1VBR0ksYUFBYUgsTUFBTSxDQUFDLENBQUQ7UUFIdkIsQ0FEUSxFQU1SO1VBQ0ksU0FBUyw4QkFEYjtVQUVJLFlBQVksVUFGaEI7VUFHSSxhQUFhQSxNQUFNLENBQUMsQ0FBRDtRQUh2QixDQU5RLEVBV1I7VUFDSSxTQUFTLDhCQURiO1VBRUksWUFBWSxVQUZoQjtVQUdJLGFBQWFBLE1BQU0sQ0FBQyxDQUFELENBSHZCO1VBSUksV0FBVyxDQUNQO1lBQ0ksUUFBUSxVQURaO1lBRUksU0FBUyxjQUZiO1lBR0ksV0FBVztVQUhmLENBRE87UUFKZixDQVhRLEVBdUJSO1VBQ0ksU0FBUyxjQURiO1VBRUksWUFBWSxpQ0FGaEI7VUFHSSxhQUFhQSxNQUFNLENBQUMsQ0FBRCxDQUh2QjtVQUlJLFdBQVcsQ0FDUDtZQUNJLFFBQVEsVUFEWjtZQUVJLFNBQVMsY0FGYjtZQUdJLFdBQVc7VUFIZixDQURPO1FBSmYsQ0F2QlE7TUFGTDtJQUZEO0VBREgsQ0FBZjtFQTZDQSxPQUFPRyxRQUFQO0FBQ0gsQ0EvQ0Q7O0FBa0RBLElBQUlpQyxtQkFBbUIsR0FBRyxTQUF0QkEsbUJBQXNCLENBQUNsQyxXQUFELEVBQWlCO0VBQ3ZDLE9BQU8sSUFBSWEsT0FBSjtJQUFBLHVFQUFZLGtCQUFPQyxPQUFQLEVBQWdCQyxNQUFoQjtNQUFBO01BQUE7UUFBQTtVQUFBO1lBQUE7Y0FBQTtjQUdYO2NBQ0lkLFFBSk8sR0FJSXdDLHdCQUF3QixFQUo1QjtjQUFBO2NBQUEsT0FLTDFDLFdBQVcsQ0FBQ0MsV0FBRCxFQUFjQyxRQUFkLENBTE47O1lBQUE7Y0FRWGEsT0FBTyxDQUFDLE1BQUQsQ0FBUDtjQVJXO2NBQUE7O1lBQUE7Y0FBQTtjQUFBO2NBVVhDLE1BQU0sY0FBTjs7WUFWVztZQUFBO2NBQUE7VUFBQTtRQUFBO01BQUE7SUFBQSxDQUFaOztJQUFBO01BQUE7SUFBQTtFQUFBLElBQVA7QUFhSCxDQWREOztBQWlCQSxJQUFJMkIsZ0JBQWdCLEdBQUcsU0FBbkJBLGdCQUFtQixHQUFNO0VBQ3pCLElBQUl6QyxRQUFRLEdBQUc7SUFDWCxjQUFjO01BQ1YsUUFBUSxPQURFO01BRVYsV0FBVztRQUNQLE9BQU9ILE1BQU0sQ0FBQyxDQUFELENBRE47UUFFUCxlQUFlO01BRlI7SUFGRDtFQURILENBQWY7RUFVQSxPQUFPRyxRQUFQO0FBQ0gsQ0FaRDs7QUFlQSxJQUFJMEMsaUJBQWlCLEdBQUcsU0FBcEJBLGlCQUFvQixDQUFDM0MsV0FBRCxFQUFpQjtFQUNyQyxJQUFJQyxRQUFRLEdBQUc7SUFDWCxjQUFjO01BQ1YsUUFBUSxVQURFO01BRVYsV0FBVztRQUNQLGlCQUFpQixRQURWO1FBRVAsUUFBUSw2QkFGRDtRQUdQLFdBQVcsQ0FDUDtVQUNJLFFBQVEsVUFEWjtVQUVJLFNBQVMsNEJBRmI7VUFHSSxXQUFXO1FBSGYsQ0FETyxFQU1QO1VBQ0ksUUFBUSxRQURaO1VBRUksaUJBQVVMLE9BQU8sQ0FBQ0MsR0FBUixDQUFZNkIsa0JBQXRCLHVCQUFxRDFCLFdBQXJELENBRko7VUFHSSxTQUFTLGNBSGI7VUFJSSx3QkFBd0IsTUFKNUI7VUFLSSx3QkFBd0I7UUFMNUIsQ0FOTztNQUhKO0lBRkQ7RUFESCxDQUFmO0VBd0JBLE9BQU9DLFFBQVA7QUFDSCxDQTFCRDs7QUE0QkEsSUFBSWtDLGVBQWUsR0FBRyxTQUFsQkEsZUFBa0IsQ0FBQ25DLFdBQUQsRUFBaUI7RUFDbkMsT0FBTyxJQUFJYSxPQUFKO0lBQUEsdUVBQVksa0JBQU9DLE9BQVAsRUFBZ0JDLE1BQWhCO01BQUE7TUFBQTtRQUFBO1VBQUE7WUFBQTtjQUFBO2NBR1g7Y0FDSTZCLGFBSk8sR0FJU0YsZ0JBQWdCLEVBSnpCLEVBS1g7O2NBQ0lHLFdBTk8sR0FNT0YsaUJBQWlCLENBQUMzQyxXQUFELENBTnhCLEVBVVg7O2NBVlc7Y0FBQSxPQVlMRCxXQUFXLENBQUNDLFdBQUQsRUFBYzRDLGFBQWQsQ0FaTjs7WUFBQTtjQUFBO2NBQUEsT0FhTDdDLFdBQVcsQ0FBQ0MsV0FBRCxFQUFjNkMsV0FBZCxDQWJOOztZQUFBO2NBZ0JYL0IsT0FBTyxDQUFDLE1BQUQsQ0FBUDtjQWhCVztjQUFBOztZQUFBO2NBQUE7Y0FBQTtjQWtCWEMsTUFBTSxjQUFOOztZQWxCVztZQUFBO2NBQUE7VUFBQTtRQUFBO01BQUE7SUFBQSxDQUFaOztJQUFBO01BQUE7SUFBQTtFQUFBLElBQVA7QUFxQkgsQ0F0QkQ7O0FBeUJBK0IsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0VBQ2IxQixnQkFBZ0IsRUFBRUEsZ0JBREw7RUFFYk0scUJBQXFCLEVBQUVBLHFCQUZWO0VBR2JDLGNBQWMsRUFBRUEsY0FISDtFQUliUyxhQUFhLEVBQUVBLGFBSkY7RUFLYk4saUJBQWlCLEVBQUVBLGlCQUxOO0VBTWJDLG1CQUFtQixFQUFFQSxtQkFOUjtFQU9iQyxtQkFBbUIsRUFBRUEsbUJBUFI7RUFRYmxDLFdBQVcsRUFBRUEsV0FSQTtFQVNiYSxXQUFXLEVBQUVBO0FBVEEsQ0FBakIifQ==","map":{"version":3,"names":["require","config","PAGE_ACCESS_TOKEN","process","env","IMAGES","callSendAPI","sender_psid","response","request_body","sendMarkReadMessage","sendTypingOn","request","err","res","body","console","log","error","getUserName","Promise","resolve","reject","JSON","parse","username","last_name","first_name","handleGetStarted","responseText","responseGenericMessage","getStartedTemplate","getListProductTemplate","URL_WEB_VIEW_ORDER","handleSendListProduct","handlePostback","received_postback","payload","handleSendSetList","handleSendDressList","handleSendSkirtList","handleDetailProduct","handleShowImage","handleBackToList","handleMessage","received_message","text","getSetListTemplate","getProductDetailTemplate","getImageTemplate","getButtonTemplate","responseImage","responseBtn","module","exports"],"sourceRoot":"/Users/nguyentri1998/My Computer/Chatbot/src/services/","sources":["chatbotService.js"],"sourcesContent":["require('dotenv').config();\nimport request from \"request\";\n\nconst PAGE_ACCESS_TOKEN = process.env.PAGE_ACCESS_TOKEN;\n\nconst IMAGES = [\n    'https://res.cloudinary.com/dvweth7yl/image/upload/v1656778684/product/z3533592465888_34e9848417e25ad68aea56a81c56d115.jpg',\n]\n\n\nlet callSendAPI = async (sender_psid, response) => {\n    // Construct the message body\n    let request_body = {\n        \"recipient\": {\n            \"id\": sender_psid\n        },\n        \"message\": response\n    }\n\n    await sendMarkReadMessage(sender_psid);\n    await sendTypingOn(sender_psid);\n\n    // Send the HTTP request to the Messenger Platform\n    request({\n        \"uri\": \"https://graph.facebook.com/v14.0/me/messages\",\n        \"qs\": { \"access_token\": PAGE_ACCESS_TOKEN },\n        \"method\": \"POST\",\n        \"json\": request_body\n    }, (err, res, body) => {\n        if (!err) {\n            console.log('message sent!')\n        } else {\n            console.error(\"Unable to send message:\" + err);\n        }\n    });\n}\n\nlet sendTypingOn = (sender_psid) => {\n    // Construct the message body\n    let request_body = {\n        \"recipient\": {\n            \"id\": sender_psid\n        },\n        \"sender_action\": \"typing_on\"\n    }\n\n    // Send the HTTP request to the Messenger Platform\n    request({\n        \"uri\": \"https://graph.facebook.com/v14.0/me/messages\",\n        \"qs\": { \"access_token\": PAGE_ACCESS_TOKEN },\n        \"method\": \"POST\",\n        \"json\": request_body\n    }, (err, res, body) => {\n        if (!err) {\n            console.log('sendTypingOn sent!')\n        } else {\n            console.error(\"Unable to send message:\" + err);\n        }\n    });\n}\n\nlet sendMarkReadMessage = (sender_psid) => {\n    // Construct the message body\n    let request_body = {\n        \"recipient\": {\n            \"id\": sender_psid\n        },\n        \"sender_action\": \"mark_seen\"\n    }\n\n    // Send the HTTP request to the Messenger Platform\n    request({\n        \"uri\": \"https://graph.facebook.com/v14.0/me/messages\",\n        \"qs\": { \"access_token\": PAGE_ACCESS_TOKEN },\n        \"method\": \"POST\",\n        \"json\": request_body\n    }, (err, res, body) => {\n        if (!err) {\n            console.log('sendTypingOn sent!')\n        } else {\n            console.error(\"Unable to send message:\" + err);\n        }\n    });\n}\n\n\nlet getUserName = (sender_psid) => {\n    return new Promise((resolve, reject) => {\n        request({\n            \"uri\": `https://graph.facebook.com/${sender_psid}?fields=first_name,last_name,profile_pic&access_token=${PAGE_ACCESS_TOKEN}`,\n            \"qs\": { \"access_token\": PAGE_ACCESS_TOKEN },\n            \"method\": \"GET\",\n        }, (err, res, body) => {\n            if (!err) {\n                let response = JSON.parse(body);\n                let username = `${response.last_name} ${response.first_name}`;\n                resolve(username);\n            } else {\n                console.error(\"Unable to send message:\" + err);\n            }\n        });\n    })\n}\n\n\nlet handleGetStarted = (sender_psid) => {\n    return new Promise(async (resolve, reject) => {\n        try {\n            let username = await getUserName(sender_psid);\n\n            // send text message\n            let responseText = { 'text': `Xin chào mừng ${username} đến với Mollie Shop` };\n            await callSendAPI(sender_psid, responseText);\n\n\n            // send generic message\n            let responseGenericMessage = getStartedTemplate();\n            await callSendAPI(sender_psid, responseGenericMessage);\n\n\n            resolve('done');\n        } catch (error) {\n            reject(error)\n        }\n    })\n}\n\n\nlet getStartedTemplate = () => {\n    let response = {\n        \"attachment\": {\n            \"type\": \"template\",\n            \"payload\": {\n                \"template_type\": \"generic\",\n                \"elements\": [{\n                    \"title\": \"Xin chào bạn đến với Mollie Shop\",\n                    \"subtitle\": \"Dưới đây là các sản phẩm nổi bật của Shop\",\n                    \"image_url\": IMAGES[0],\n                    \"buttons\": [\n                        {\n                            \"type\": \"postback\",\n                            \"title\": \"DANH SÁCH SẢN PHẨM NỔI BẬT\",\n                            \"payload\": \"LIST_PRODUCT\",\n                        },\n                        {\n                            \"type\": \"postback\",\n                            \"title\": \"SHOPEE\",\n                            \"payload\": \"LINK_SHOPEE\",\n                        }\n                    ],\n                }]\n            }\n        }\n    }\n\n    return response;\n}\n\n\nlet getListProductTemplate = (sender_psid) => {\n    let response = {\n        \"attachment\": {\n            \"type\": \"template\",\n            \"payload\": {\n                \"template_type\": \"generic\",\n                \"elements\": [\n                    {\n                        \"title\": \"Danh sách sản phẩm nổi bật của Mollie\",\n                        \"subtitle\": \"Dưới đây là các sản phẩm nổi bật của Shop\",\n                        \"image_url\": IMAGES[0],\n                        \"buttons\": [\n                            {\n                                \"type\": \"postback\",\n                                \"title\": \"Set\",\n                                \"payload\": \"SET_LIST\",\n                            },\n                            {\n                                \"type\": \"postback\",\n                                \"title\": \"ĐẦM\",\n                                \"payload\": \"DRESS_LIST\",\n                            },\n                            {\n                                \"type\": \"postback\",\n                                \"title\": \"VÁY\",\n                                \"payload\": \"SKIRT_LIST\",\n                            }\n                        ],\n                    },\n                    {\n                        \"title\": \"Giờ mở cửa\",\n                        \"subtitle\": \"Tất cả các ngày trong tuần\",\n                        \"image_url\": IMAGES[0],\n                        \"buttons\": [\n                            {\n                                \"type\": \"web_url\",\n                                \"url\": `${process.env.URL_WEB_VIEW_ORDER}?senderId=${sender_psid}`,\n                                \"title\": \"Mua sản phẩm\",\n                                \"webview_height_ratio\": \"tall\",\n                                \"messenger_extensions\": true\n                            },\n                        ],\n                    },\n                    {\n                        \"title\": \"Kích cỡ chung của shop\",\n                        \"subtitle\": \"Kích cỡ của shop phù hợp với đa số phụ nữ Việt Nam < 58kg\",\n                        \"image_url\": IMAGES[0],\n                        \"buttons\": [\n                            {\n                                \"type\": \"postback\",\n                                \"title\": \"CÁC SẢN PHẨM BÁN CHẠY\",\n                                \"payload\": \"BEST_SELLER\",\n                            },\n                        ],\n                    }\n                ]\n            }\n        }\n    }\n\n    return response;\n}\n\n\nlet handleSendListProduct = (sender_psid) => {\n    return new Promise(async (resolve, reject) => {\n        try {\n\n            // send generic message\n            let response = getListProductTemplate(sender_psid);\n            await callSendAPI(sender_psid, response);\n\n            resolve('done');\n        } catch (error) {\n            reject(error)\n        }\n    })\n}\n\n// Handles messaging_postbacks events\nasync function handlePostback(sender_psid, received_postback) {\n    let response;\n\n    let payload = received_postback.payload;\n\n    switch (payload) {\n        case 'yes':\n            response = { 'text': 'Thanks!' };\n            break;\n\n        case 'no':\n            response = { 'text': 'Oops, try sending another image.' };\n            break;\n\n        case 'RESTART_BOT':\n        case 'GET_STARTED':\n            await handleGetStarted(sender_psid);\n            break;\n\n        case 'LIST_PRODUCT':\n            await handleSendListProduct(sender_psid);\n            break;\n\n        case 'SET_LIST':\n            await handleSendSetList(sender_psid);\n            break;\n\n        case 'DRESS_LIST':\n            await handleSendDressList(sender_psid);\n            break;\n\n        case 'SKIRT_LIST':\n            await handleSendSkirtList(sender_psid);\n            break;\n\n        case 'PRODUCT_DETAIL':\n            await handleDetailProduct(sender_psid);\n            break;\n\n        case 'SHOW_IMAGE':\n            await handleShowImage(sender_psid);\n            break;\n\n        case 'BACK_TO_LIST':\n            await handleBackToList(sender_psid);\n            break;\n\n\n        default:\n            response = { 'text': `oop! I don't know response with postback ${payload}` };\n            break;\n    }\n\n\n    // callSendAPI(sender_psid, response);\n}\n\n\n// Handles messages events\nfunction handleMessage(sender_psid, received_message) {\n    let response;\n\n    // Check if the message contains text\n    if (received_message.text) {\n\n        // Create the payload for a basic text message\n        response = {\n            \"text\": `Chào mừng bạn đến với Mollie Shop. Bạn đợi mình một chút nhé. Mình sẽ trả lời ngay <3`\n        }\n    }\n\n    // Sends the response message\n    callSendAPI(sender_psid, response);\n}\n\n\n\n\nlet getSetListTemplate = (sender_psid) => {\n    let response = {\n        \"attachment\": {\n            \"type\": \"template\",\n            \"payload\": {\n                \"template_type\": \"generic\",\n                \"elements\": [\n                    {\n                        \"title\": \"Set Áo Trễ Vai Váy Dài Chữ A\",\n                        \"subtitle\": \"Set Áo Trễ Vai Váy Dài Chữ A là một trong những sản phẩm nổi bật của Shop\",\n                        \"image_url\": IMAGES[0],\n                        \"buttons\": [\n                            {\n                                \"type\": \"postback\",\n                                \"title\": \"Chi Tiết\",\n                                \"payload\": \"PRODUCT_DETAIL\",\n                            },\n                            {\n                                \"type\": \"weburl\",\n                                \"url\": `${process.env.URL_WEB_VIEW_ORDER}?senderId=${sender_psid}`,\n                                \"title\": \"Mua sản phẩm\",\n                                \"webview_height_ratio\": \"tall\",\n                                \"messenger_extensions\": true\n                            },\n                        ],\n                    },\n                    {\n                        \"title\": \"Set Áo Trễ Vai Váy Dài Chữ A\",\n                        \"subtitle\": \"Set Áo Trễ Vai Váy Dài Chữ A là một trong những sản phẩm nổi bật của Shop\",\n                        \"image_url\": IMAGES[0],\n                        \"buttons\": [\n                            {\n                                \"type\": \"postback\",\n                                \"title\": \"Chi Tiết\",\n                                \"payload\": \"PRODUCT_DETAIL\",\n                            },\n                            {\n                                \"type\": \"weburl\",\n                                \"url\": `${process.env.URL_WEB_VIEW_ORDER}?senderId=${sender_psid}`,\n                                \"title\": \"Mua sản phẩm\",\n                                \"webview_height_ratio\": \"tall\",\n                                \"messenger_extensions\": true\n                            },\n                        ],\n                    },\n                    {\n                        \"title\": \"Set Áo Trễ Vai Váy Dài Chữ A\",\n                        \"subtitle\": \"Set Áo Trễ Vai Váy Dài Chữ A là một trong những sản phẩm nổi bật của Shop\",\n                        \"image_url\": IMAGES[0],\n                        \"buttons\": [\n                            {\n                                \"type\": \"postback\",\n                                \"title\": \"Chi Tiết\",\n                                \"payload\": \"PRODUCT_DETAIL\",\n                            },\n                            {\n                                \"type\": \"weburl\",\n                                \"url\": `${process.env.URL_WEB_VIEW_ORDER}?senderId=${sender_psid}`,\n                                \"title\": \"Mua sản phẩm\",\n                                \"webview_height_ratio\": \"tall\",\n                                \"messenger_extensions\": true\n                            },\n                        ],\n                    },\n                    {\n                        \"title\": \"Quay trở lại\",\n                        \"subtitle\": \"Quay trở lại danh sách sản phẩm\",\n                        \"image_url\": IMAGES[0],\n                        \"buttons\": [\n                            {\n                                \"type\": \"postback\",\n                                \"title\": \"Quay trở lại\",\n                                \"payload\": \"BACK_TO_LIST\",\n                            },\n                        ],\n                    }\n                ]\n            }\n        }\n    }\n\n    return response;\n}\n\n\nlet handleSendSetList = (sender_psid) => {\n    return new Promise(async (resolve, reject) => {\n        try {\n\n            // send generic message\n            let response = getSetListTemplate(sender_psid);\n            await callSendAPI(sender_psid, response);\n\n\n            resolve('done');\n        } catch (error) {\n            reject(error)\n        }\n    })\n}\n\nlet handleSendDressList = (sender_psid) => {\n    return new Promise(async (resolve, reject) => {\n        try {\n\n            // send generic message\n            let response = getSetListTemplate(sender_psid);\n            await callSendAPI(sender_psid, response);\n\n\n            resolve('done');\n        } catch (error) {\n            reject(error)\n        }\n    })\n}\n\nlet handleSendSkirtList = (sender_psid) => {\n    return new Promise(async (resolve, reject) => {\n        try {\n\n            // send generic message\n            let response = getSetListTemplate(sender_psid);\n            await callSendAPI(sender_psid, response);\n\n\n            resolve('done');\n        } catch (error) {\n            reject(error)\n        }\n    })\n}\n\nlet handleBackToList = async (sender_psid) => {\n    await handleSendListProduct(sender_psid);\n}\n\n\nlet getProductDetailTemplate = () => {\n    let response = {\n        \"attachment\": {\n            \"type\": \"template\",\n            \"payload\": {\n                \"template_type\": \"generic\",\n                \"elements\": [\n                    {\n                        \"title\": \"Set Áo Trễ Vai Váy Dài Chữ A\",\n                        \"subtitle\": \"296.000đ\",\n                        \"image_url\": IMAGES[0],\n                    },\n                    {\n                        \"title\": \"Set Áo Trễ Vai Váy Dài Chữ A\",\n                        \"subtitle\": \"296.000đ\",\n                        \"image_url\": IMAGES[0],\n                    },\n                    {\n                        \"title\": \"Set Áo Trễ Vai Váy Dài Chữ A\",\n                        \"subtitle\": \"296.000đ\",\n                        \"image_url\": IMAGES[0],\n                        \"buttons\": [\n                            {\n                                \"type\": \"postback\",\n                                \"title\": \"Hiển thị ảnh\",\n                                \"payload\": \"SHOW_IMAGE\",\n                            },\n                        ],\n                    },\n                    {\n                        \"title\": \"Quay trở lại\",\n                        \"subtitle\": \"Quay trở lại danh sách sản phẩm\",\n                        \"image_url\": IMAGES[0],\n                        \"buttons\": [\n                            {\n                                \"type\": \"postback\",\n                                \"title\": \"Quay trở lại\",\n                                \"payload\": \"BACK_TO_LIST\",\n                            },\n                        ],\n                    }\n                ]\n            }\n        }\n    }\n\n    return response;\n}\n\n\nlet handleDetailProduct = (sender_psid) => {\n    return new Promise(async (resolve, reject) => {\n        try {\n\n            // send generic message\n            let response = getProductDetailTemplate();\n            await callSendAPI(sender_psid, response);\n\n\n            resolve('done');\n        } catch (error) {\n            reject(error)\n        }\n    })\n}\n\n\nlet getImageTemplate = () => {\n    let response = {\n        \"attachment\": {\n            \"type\": \"image\",\n            \"payload\": {\n                \"url\": IMAGES[0],\n                \"is_reusable\": true\n            }\n        }\n    };\n\n    return response;\n}\n\n\nlet getButtonTemplate = (sender_psid) => {\n    let response = {\n        \"attachment\": {\n            \"type\": \"template\",\n            \"payload\": {\n                \"template_type\": \"button\",\n                \"text\": \"Size shop < 58kg nha bạn iu\",\n                \"buttons\": [\n                    {\n                        \"type\": \"postback\",\n                        \"title\": \"DANH SÁCH SẢN PHẨM NỔI BẬT\",\n                        \"payload\": \"LIST_PRODUCT\",\n                    },\n                    {\n                        \"type\": \"weburl\",\n                        \"url\": `${process.env.URL_WEB_VIEW_ORDER}?senderId=${sender_psid}`,\n                        \"title\": \"Mua sản phẩm\",\n                        \"webview_height_ratio\": \"tall\",\n                        \"messenger_extensions\": true\n                    },\n                ]\n            }\n        }\n    }\n\n    return response;\n}\n\nlet handleShowImage = (sender_psid) => {\n    return new Promise(async (resolve, reject) => {\n        try {\n\n            // send an image \n            let responseImage = getImageTemplate();\n            // send a button templates\n            let responseBtn = getButtonTemplate(sender_psid);\n\n\n\n            // send generic message\n\n            await callSendAPI(sender_psid, responseImage);\n            await callSendAPI(sender_psid, responseBtn);\n\n\n            resolve('done');\n        } catch (error) {\n            reject(error)\n        }\n    })\n}\n\n\nmodule.exports = {\n    handleGetStarted: handleGetStarted,\n    handleSendListProduct: handleSendListProduct,\n    handlePostback: handlePostback,\n    handleMessage: handleMessage,\n    handleSendSetList: handleSendSetList,\n    handleSendDressList: handleSendDressList,\n    handleSendSkirtList: handleSendSkirtList,\n    callSendAPI: callSendAPI,\n    getUserName: getUserName\n}"],"mappings":"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"}},"mtime":1657510854717}}